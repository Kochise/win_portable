<html>
<head>
<title>Dia FAQ</title>
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="faq_files/layout.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="faq_files/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="faq_files/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="faq_files/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="faq_files/projection.css">
<!--[if IE]>
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="faq_files/msie.css">
<![endif]-->
</head>
<body>
<h1>1. Dia FAQ (Frequently Asked Questions)</h1>
<table style="display: none"><tbody><tr><td>&nbsp;</td>
</tr>
</tbody></table></div><span class="anchor" id="line-7"></span><span class="anchor" id="line-8"></span><p class="line867"><div class="table-of-contents"><p class="table-of-contents-heading">Contents<ol><li><a href="#head-f2e9ad00683220dce8092f7a5f17d3c7d02039ea">Metainformation</a><ol><li><a href="#head-6962c6e0ef22aac2617f940142275efe5c00e0ed">Who maintains this FAQ?</a></li><li><a href="#head-7fda4e22bd9d8e5274fdfc1a4136925d52797279">Where can I find the newest version of this FAQ?</a></li><li><a href="#head-ec69dd727ab1cc4950dad6b0a57ebdeb0bab9897">Who made this FAQ?</a></li><li><a href="#head-163b8975654075f5f2b76edb6f4b080eb3966511">What's new in this version of the FAQ?</a></li><li><a href="#head-c7482e8c2d49c36d1544ae464bae4eee1ba92250">How do you pronounce "Dia"?</a></li></ol><li><a href="#head-9a508a6598646a71817d2f27e5ec672492cb4b94">General usage</a><ol><li><a href="#head-93d4adc1fdbfe65c3aa60d3f73595417c0f20b4d">How can I do anything but creating and moving objects?</a></li><li><a href="#head-5dcb11182e2033b6956b1091259416b9cb3fa525">I try to change diagram properties, but nothing happens.</a></li><li><a href="#head-64c7f257be6963e247d6a4f81d740619c3b8469e">I don't have a middle mouse button, what can I do?</a></li><li><a href="#head-3c81b66ebcf66a4d7f972498c30b45aaa308091b">How can I set or change an accelerator key for a function in the menu?</a></li><li><a href="#head-7a2797bb0dd13f40eef23259f7bc29de9bb329f8">How can I set or change an accelerator key for one of the icons in the main window</a></li><li><a href="#head-f5440a28c60bc1a79685dad3c96af968ca59775e">What are the five radio-buttons in the Select menu for?</a></li><li><a href="#head-92729db339b77b3e82abde8247d1045886fd3fe5">How do I add bends to a zig-zag line</a></li><li><a href="#head-385f1aca8ee85eaa0e9e7800f0441d7fa48e41a8">How do I make a zig-zag line go horizontally</a></li><li><a href="#head-808641b8910e1f7b0a1567ab4ee00ca4adbc1aa9">How do I change the properties of several objects at a time?</a></li><li><a href="#head-d1cdfe5faa9668f629e4f87b15f342c44cc0e4f4">Why can't I resize classes etc.</a></li><li><a href="#head-7170ebb443aaa1be807c6ed9851e67731f888773">Why do elements have a fixed number of connection points</a></li><li><a href="#head-2c11dde9ef304a3b3fb3227e4b65e1cb6a0581a4">Why can't Dia rotate arbitrarily?</a></li><li><a href="#head-a6058232ebc51e06a79affb72f989932e481cd47">Why can't I add more connection points to objects?</a></li><li><a href="#head-fd454e4a78fc7222831e26d7fbbb30911d06c694">Why don't the fonts work right?</a></li><li><a href="#head-8e3ca20e64c089f93b783e67f5819be36ff47ccf">The fonts are really unreadably tiny, either on screen or when writing PNG.</a></li><li><a href="#head-633d7b2cd19f44e1f2c28d68e9001b2920294fec">How do I use Dia in English (or other language) when my Operating System is set to a different language</a></li><li><a href="#head-c6bbfbf9aa063c254a5f8628a4831e59cb26052d">Why can't I select anything after loading a diagram?</a></li><li><a href="#head-7287c0e4476e60c0b220b033538a7e683fb7995a">How can I define a standard font size for an object?</a></li></ol><li><a href="#head-3e02b5ccca769d75815ee6105eac8a5b0e836197">Saving and Printing</a><ol><li><a href="#head-f692664621cabe413e264696cfa3af921ca1d230">What format is the .dia file</a></li><li><a href="#head-61c74c5b62d5b553b5fcfe5a2791b03616feef99">How can I scale the diagram to fit a page</a></li><li><a href="#head-497733fd3d5095f8d47329ce34df2badae627eb6">How do I use a exported TeX/PSTricks file in my TeX document</a></li><li><a href="#head-487bacf7964ad2509c6679cc652176e4df47d505">I wish I had nice zigzags and coils as in PSTricks. How could I get them</a></li><li><a href="#head-c153be81e59c5b663ca1a9797bafdddbc4a5d5d0">How do I put (La)TeX formulas on my diagram</a></li><li><a href="#head-4b11344820651eaaeae0ee056643900465ea4b25">Why is printing broken</a></li><li><a href="#head-fbbf28c96914751b4b08f0721aefabb7043e63be">How can I use Dia to convert files without running X</a></li><li><a href="#head-5e204b64cc898bebf9070776d70673992caad27a">How do I make Dia use !PostScript fonts instead of Pango rendering</a></li><li><a href="#head-32735cd1928597b03a2ec3d310c263850ce043e0">When printing I get many pages of text starting with: %!PS-Adobe-2.0. What to do</a></li></ol><li><a href="#head-fb96fb035a0dabede8d68d75292975c4390cbbc0">Compiling Dia</a><ol><li><a href="#head-0a23e57085d9f0de4e8200178afdc05272756f67">Why can't I compile Dia</a></li><li><a href="#head-3169a5f1d18b90aa32f8ba825668caaf5895abc0">How can I convert the tar file to an rpm</a></li><li><a href="#head-16bfcd1376cebddfad45616294d9ba460fa495a0">Can Dia compile on Mac OS X</a></li><li><a href="#head-f841c4f958b0c43b3d03a71a53d60ac542b1d39a">Why does my copy of Dia for Windows die when I try to load it</a></li></ol><li><a href="#head-3a3bb6888684620d77780b36d41e3eff5b561116">Extending Dia</a><ol><li><a href="#head-776732dc27bfdebfb4fb071c9bacf1850d4a28c9">How do I make patches for Dia so that they are integrated with minimum delay</a></li><li><a href="#head-cb4379e2282f018337241a044f4fa992e5c82e6f">After compiling, when I run Dia it fails with the following error:</a></li><li><a href="#head-2bb408b1bae45e4fa80ee73d0de7f2e09f68800e">How do I add new shapes/sheets?</a></li><li><a href="#head-322f51093018719afc5d3c7536437cc6ad486abf">Can Dia open Visio .vsd files?</a></li></ol><li><a href="#head-f2028a92c25de8331193cd16137efbca53e4b6d7">Licensing</a><ol><li><a href="#head-b74689556117be390de17c16d1ff51d275d8bc88">Under what license is Dia released?</a></li><li><a href="#head-4b4161ecc8cc5b32205efecd4f8b2ca9bc2db35e">Under what license are any diagrams I create in Dia held?</a></li></ol></li></ol></div> <span class="anchor" id="line-9"></span><span class="anchor" id="line-10"></span><p class="line867">
<h2 id="head-f2e9ad00683220dce8092f7a5f17d3c7d02039ea">1.1. Metainformation</h2>
<span class="anchor" id="line-11"></span><p class="line867">
<h3 id="head-6962c6e0ef22aac2617f940142275efe5c00e0ed">1.1.1. Who maintains this FAQ?</h3>
<span class="anchor" id="line-12"></span><p class="line862">Lars Clausen &lt; <a class="mailto" href="mailto:lars@raeder.dk">lars@raeder.dk</a> &gt; is the main maintainer, but anyone with an account the live.gnome.org Wiki can update it. <span class="anchor" id="line-13"></span><span class="anchor" id="line-14"></span><p class="line867">
<h3 id="head-7fda4e22bd9d8e5274fdfc1a4136925d52797279">1.1.2. Where can I find the newest version of this FAQ?</h3>
<span class="anchor" id="line-15"></span><p class="line862">The newest version should always be available from the Dia home page at <a class="http" href="http://live.gnome.org/Dia">http://live.gnome.org/Dia</a>. <span class="anchor" id="line-16"></span><span class="anchor" id="line-17"></span><p class="line867">
<h3 id="head-ec69dd727ab1cc4950dad6b0a57ebdeb0bab9897">1.1.3. Who made this FAQ?</h3>
<span class="anchor" id="line-18"></span><p class="line862">This FAQ was put together by Lars Clausen &lt; <a class="mailto" href="mailto:lars@raeder.dk">lars@raeder.dk</a> &gt;. Most of the material came out of the Dia mailing list. The following people contributed more advice: Kerry &lt; <a class="mailto" href="mailto:needles@industrialmusic.com">needles@industrialmusic.com</a> &gt;, James Henstridge &lt; <a class="mailto" href="mailto:james@daa.com.au">james@daa.com.au</a> &gt;, Simon Josefsson &lt; <a class="mailto" href="mailto:simon@josefsson.org">simon@josefsson.org</a> &gt;, Jacek Pliszka &lt; <a class="mailto" href="mailto:Jacek.Pliszka@fuw.edu.pl">Jacek.Pliszka@fuw.edu.pl</a> &gt;, Steffen Macke &lt; <a class="mailto" href="mailto:sdteffen@yahoo.com">sdteffen@yahoo.com</a> &gt;, Robert Campbell &lt; <a class="mailto" href="mailto:rob.campbell@visto.com">rob.campbell@visto.com</a> &gt;, Alan Horkan, and Hubert Figuiere &lt; <a class="mailto" href="mailto:hfiguiere@teaser.fr">hfiguiere@teaser.fr</a> &gt;. <span class="anchor" id="line-19"></span><span class="anchor" id="line-20"></span><p class="line862">Wikification was done mainly by branko, <a href="/WolfgangStoeggl">WolfgangStoeggl</a>, <a href="/SteffenMacke">SteffenMacke</a> and <a href="/LarsClausen">LarsClausen</a>. Further information on who has updated it since wikification can be found under the history tab. <span class="anchor" id="line-21"></span><span class="anchor" id="line-22"></span><p class="line867">
<h3 id="head-163b8975654075f5f2b76edb6f4b080eb3966511">1.1.4. What's new in this version of the FAQ?</h3>
<span class="anchor" id="line-23"></span><p class="line874">For change information, click the 'history' tab. <span class="anchor" id="line-24"></span><span class="anchor" id="line-25"></span><p class="line867">
<h3 id="head-c7482e8c2d49c36d1544ae464bae4eee1ba92250">1.1.5. How do you pronounce "Dia"?</h3>
<span class="anchor" id="line-26"></span><span class="anchor" id="line-27"></span><p class="line874">The general consensus is to pronounce it "dee-a", not "die-a" (in IPA: ['di…ô]), following the pronunciation of the first part of the word "Diagram" in Swedish, the language of the original creator Alexander Larsson, and in the languages of most of the later maintainers. But if you pronounce it your way, we're not going to bring out the pitchforks and torches. We'll just be a little confused when we hear it. <span class="anchor" id="line-28"></span><span class="anchor" id="line-29"></span><p class="line867">
<h2 id="head-9a508a6598646a71817d2f27e5ec672492cb4b94">1.2. General usage</h2>
<span class="anchor" id="line-30"></span><p class="line867">
<h3 id="head-93d4adc1fdbfe65c3aa60d3f73595417c0f20b4d">1.2.1. How can I do anything but creating and moving objects?</h3>
<span class="anchor" id="line-31"></span><p class="line862">Like The <a class="http" href="http://www.gimp.org/">Gimp</a>, Dia depends heavily on a menu on the right mouse button inside the diagram. That menu contains all the diagram-specific actions and a few other things, so you almost never have to find the menu on the toolbox. A <a class="http" href="faq_files/right-mouse-screen.png">snapshot</a> shows an example of the menu. <span class="anchor" id="line-32"></span><span class="anchor" id="line-33"></span><p class="line874">You can change to having a "normal" menu bar in the Preferences dialog.  Note that this will only affect diagrams opened after the preferences are changed. <span class="anchor" id="line-34"></span><span class="anchor" id="line-35"></span><p class="line867">
<h3 id="head-5dcb11182e2033b6956b1091259416b9cb3fa525">1.2.2. I try to change diagram properties, but nothing happens.</h3>
<span class="anchor" id="line-36"></span><p class="line874">The preferences dialog only affects diagrams that are created thereafter. To change grid lines etc., go to the View menu and select settings there. The settings will be saved with the diagram. <span class="anchor" id="line-37"></span><span class="anchor" id="line-38"></span><p class="line867">
<h3 id="head-64c7f257be6963e247d6a4f81d740619c3b8469e">1.2.3. I don't have a middle mouse button, what can I do?</h3>
<span class="anchor" id="line-39"></span><p class="line862">Unix (XFree86): If EmulateThirdButton is enabled (which it should be if you have a two-button mouse), you can make a middle-button click by pressing both buttons simultaneously (an action also known as chording). Windows: If you don't have a middle mouse button, hold down the Ctrl key and use the right mouse button. <span class="anchor" id="line-40"></span><span class="anchor" id="line-41"></span><p class="line867">
<h3 id="head-3c81b66ebcf66a4d7f972498c30b45aaa308091b">1.2.4. How can I set or change an accelerator key for a function in the menu?</h3>
<span class="anchor" id="line-42"></span><span class="anchor" id="line-43"></span><p class="line874">This is possible since version 0.95, however it may not be the most user-friendly way. Find <span class="anchor" id="line-44"></span>the file ".dia/menurc" in your home directory (that would be <span class="anchor" id="line-45"></span>"C:\Documents and Settings\yourlogin\.dia\menurc" on Windows or <span class="anchor" id="line-46"></span>"~/.dia/menurc" on *nix systems like Linux). Open the file <span class="anchor" id="line-47"></span>with a text editor (e.g. gedit in Linux, or in Windows by using Start-&gt;Run and typing "notepad %USERPROFILE%/.dia/menurc" (without the quotes)). <span class="anchor" id="line-48"></span><span class="anchor" id="line-49"></span><p class="line874">Find a line that contains the accelerator (shortcut) you wish to change, <span class="anchor" id="line-50"></span>e.g. if you want to change the "Delete" key for Edit/Delete, this would <span class="anchor" id="line-51"></span>be the line: <span class="anchor" id="line-52"></span><span class="anchor" id="line-53"></span><p class="line867"><tt>&nbsp;;&nbsp;(gtk_accel_path&nbsp;"&lt;Actions&gt;/display-actions/EditDelete"&nbsp;"Delete")&nbsp;</tt> <span class="anchor" id="line-54"></span><span class="anchor" id="line-55"></span><p class="line874">Let's say you want to change it to Control+Delete, so change the line to: <span class="anchor" id="line-56"></span><span class="anchor" id="line-57"></span><p class="line867"><tt>&nbsp;(gtk_accel_path&nbsp;"&lt;Actions&gt;/display-actions/EditDelete"&nbsp;"&lt;Control&gt;Delete")&nbsp;</tt> <span class="anchor" id="line-58"></span><span class="anchor" id="line-59"></span><p class="line874">Notice that you have to delete the leading semicolon. The modifier keys <span class="anchor" id="line-60"></span>(Ctrl, Alt, Shift) are written as &lt;Control&gt;, &lt;Alt&gt;, &lt;Shift&gt; and can be <span class="anchor" id="line-61"></span>combined, e.g. "&lt;Control&gt;&lt;Shift&gt;d" is a valid accelerator for <span class="anchor" id="line-62"></span>Ctrl+Shift+d. Special keys such as Return, Insert, Delete are written as <span class="anchor" id="line-63"></span>Return, Insert, Delete. <span class="anchor" id="line-64"></span><span class="anchor" id="line-65"></span><p class="line874">Save the file then. Note that Dia may not be running while you edit this <span class="anchor" id="line-66"></span>file. <span class="anchor" id="line-67"></span><span class="anchor" id="line-68"></span><p class="line867">
<h3 id="head-7a2797bb0dd13f40eef23259f7bc29de9bb329f8">1.2.5. How can I set or change an accelerator key for one of the icons in the main window</h3>
<span class="anchor" id="line-69"></span><p class="line874">These functions correspond to the items in the Tools menu. Set or change their accelerator keys there. <span class="anchor" id="line-70"></span><span class="anchor" id="line-71"></span><p class="line867">
<h3 id="head-f5440a28c60bc1a79685dad3c96af968ca59775e">1.2.6. What are the five radio-buttons in the Select menu for?</h3>
<span class="anchor" id="line-72"></span><p class="line874">They determine what happens when you drag-select objects. Normally, only the objects included in the drag area end up selected. By selecting other choices in the Select radio menu, you can change that behavior: <span class="anchor" id="line-73"></span><span class="anchor" id="line-74"></span><p class="line874">Union: <span class="anchor" id="line-75"></span><span class="anchor" id="line-76"></span><ul><li style="list-style-type:none">Both the drag-selected objects and the previously selected objects end up selected. <span class="anchor" id="line-77"></span></li></ul><p class="line874">Intersect: <span class="anchor" id="line-78"></span><span class="anchor" id="line-79"></span><ul><li style="list-style-type:none">The only objects that end up selected are those that were already selected and were drag-selected. <span class="anchor" id="line-80"></span></li></ul><p class="line874">Remove: <span class="anchor" id="line-81"></span><span class="anchor" id="line-82"></span><ul><li style="list-style-type:none">Those previously selected objects that are in the drag area become unselected. <span class="anchor" id="line-83"></span></li></ul><p class="line874">Invert: <span class="anchor" id="line-84"></span><span class="anchor" id="line-85"></span><ul><li style="list-style-type:none">The objects in the drag area change selectedness: Unselected objects become selected, selected objects become unselected. The objects outside the drag area are not affected. <span class="anchor" id="line-86"></span></li></ul><p class="line874">These operations correspond to set operations between the previously selected objects and the drag-selected objects. <span class="anchor" id="line-87"></span><span class="anchor" id="line-88"></span><p class="line867">
<h3 id="head-92729db339b77b3e82abde8247d1045886fd3fe5">1.2.7. How do I add bends to a zig-zag line</h3>
<span class="anchor" id="line-89"></span><p class="line867"><img alt="faq_files/addbend1.png" class="external_image" src="faq_files/addbend1.png" title="faq_files/addbend1.png" /> <img alt="faq_files/addbend2.png" class="external_image" src="faq_files/addbend2.png" title="faq_files/addbend2.png" /> <img alt="faq_files/addbend3.png" class="external_image" src="faq_files/addbend3.png" title="faq_files/addbend3.png" /> <span class="anchor" id="line-90"></span><span class="anchor" id="line-91"></span><p class="line874">The right mouse button (or the middle mouse button, if you have the main menu on the right button, Gimp style) gives an object-specific menu. For zig-zag lines, poly lines and bezier lines, that menu allows you to add and remove bends. <span class="anchor" id="line-92"></span><span class="anchor" id="line-93"></span><p class="line867">
<h3 id="head-385f1aca8ee85eaa0e9e7800f0441d7fa48e41a8">1.2.8. How do I make a zig-zag line go horizontally</h3>
<span class="anchor" id="line-94"></span><p class="line874">As of version 0.93, zig-zag lines support a primitive form of autorouting that is intended to solve this problem and make it easier to make the diagrams look good. The autorouting algorithm does not attempt to avoid objects, but should at least make the lines go the right direction out from connection points. If it doesn't appear to work, double-click the zig-zag line and check that autorouting is on for it. This setting can also be accessed from the object menu. <span class="anchor" id="line-95"></span><span class="anchor" id="line-96"></span><p class="line874">For previous versions, here is a workaround for how to make zigzags change direction: <span class="anchor" id="line-97"></span><span class="anchor" id="line-98"></span><p class="line874">Using the object-specific menu on the middle mouse button, create an extra segment at each end of the line, then delete the middle segment: <span class="anchor" id="line-99"></span><span class="anchor" id="line-100"></span><ol type="1"><li><p class="line891"><img alt="faq_files/zig1.png" class="external_image" src="faq_files/zig1.png" title="faq_files/zig1.png" /> <span class="anchor" id="line-101"></span></li><li><p class="line891"><img alt="faq_files/zig2.png" class="external_image" src="faq_files/zig2.png" title="faq_files/zig2.png" /> <span class="anchor" id="line-102"></span></li><li><p class="line891"><img alt="faq_files/zig3.png" class="external_image" src="faq_files/zig3.png" title="faq_files/zig3.png" /> <span class="anchor" id="line-103"></span></li><li><p class="line891"><img alt="faq_files/zig4.png" class="external_image" src="faq_files/zig4.png" title="faq_files/zig4.png" /> <span class="anchor" id="line-104"></span></li><li><p class="line891"><img alt="faq_files/zig5.png" class="external_image" src="faq_files/zig5.png" title="faq_files/zig5.png" /> <span class="anchor" id="line-105"></span></li></ol><p class="line867">
<h3 id="head-808641b8910e1f7b0a1567ab4ee00ca4adbc1aa9">1.2.9. How do I change the properties of several objects at a time?</h3>
<span class="anchor" id="line-106"></span><p class="line874">There isn't a good way to do this yet, as of version 0.96.  There is a bad way:  You can select all the objects you want to change, group them, then edit properties of the group.  This will work, but has two drawbacks: 1) You will set *all* settable properties to the same value, so if you want to change the line width, but have different color objects, they will end up with the same color. 2) Any connections out of the group will be disconnected from their objects.  There is currently work being done on fixing booth of these problems, but there is no deadline for it. <span class="anchor" id="line-107"></span><span class="anchor" id="line-108"></span><p class="line867">
<h3 id="head-d1cdfe5faa9668f629e4f87b15f342c44cc0e4f4">1.2.10. Why can't I resize classes etc.</h3>
<span class="anchor" id="line-109"></span><p class="line862">The size of classes is decided by their contents, especially the text. Note that you can scale the entire diagram when you print, see the question about <a class="http" href="http://www.gnome.org/projects/dia/faq.html#FitToPage">page fitting</a>. <span class="anchor" id="line-110"></span><span class="anchor" id="line-111"></span><p class="line867">
<h3 id="head-7170ebb443aaa1be807c6ed9851e67731f888773">1.2.11. Why do elements have a fixed number of connection points</h3>
<span class="anchor" id="line-112"></span><p class="line874">We've been thinking about how to allow more connection points. Point is, there are several different ways it could be done that all make sense, and we'd like to get the most usable of them, while maintaining backwards compatibility. Note that the standard Line object allows you to add more connection points to it by the middle mouse menu. You can in a pinch place a line along the edge of an object and use the lines connection points:) <span class="anchor" id="line-113"></span><span class="anchor" id="line-114"></span><p class="line867">
<h3 id="head-2c11dde9ef304a3b3fb3227e4b65e1cb6a0581a4">1.2.12. Why can't Dia rotate arbitrarily?</h3>
<span class="anchor" id="line-115"></span><p class="line874">While the GDK rendering engine provides support for rotated text, having rotated text is only part of the problem. We also need infrastructure so that handles, connection points, bounding boxes etc. are rotated along with the object. Help on this would be appreciated. <span class="anchor" id="line-116"></span><span class="anchor" id="line-117"></span><p class="line867">
<h3 id="head-a6058232ebc51e06a79affb72f989932e481cd47">1.2.13. Why can't I add more connection points to objects?</h3>
<span class="anchor" id="line-118"></span><p class="line874">You can, for some objects. Adding connection points in general is a tricky problem, as it is difficult to make sure that the points keep their placement after a reload. The standard line object allows adding more points via the object menu. <span class="anchor" id="line-119"></span><span class="anchor" id="line-120"></span><p class="line867">
<h3 id="head-fd454e4a78fc7222831e26d7fbbb30911d06c694">1.2.14. Why don't the fonts work right?</h3>
<span class="anchor" id="line-121"></span><p class="line862">Font support is not very standard in X, especially when you want to make images, print, and send the files to other people. In Dia version 0.90 and earlier, you can improve things by installing the <a class="http" href="http://www.mail-archive.com/dia-list@lysator.liu.se/msg02705/urw-aliases-0.0-1.noarch.rpm">urw-aliases</a> package (or the GhostScript fonts). After installing the package, you will need to do a simple edit of a config file. Edit <tt>/etc/X11/fs/config</tt> and move the line <tt>/usr/share/fonts/default/urw-aliases</tt> to just below the <tt>...:unscaled</tt> lines (make sure the commas are in the correct places after making the change). Then run <tt>killall&nbsp;-USR1&nbsp;xfs</tt> to get the font server to reread its config file. The URW fonts should be used in place of the adobe ones they are clones of when an unscaled bitmap version can't be found. <span class="anchor" id="line-122"></span><span class="anchor" id="line-123"></span><p class="line862">As of 0.91, Dia on Unix uses the <a class="http" href="http://www.freetype.org/">FreeType library</a> to provide better font support. The fonts for this are in turn controlled by font-config. Note that this means that remote fonts servers cannot be used. <span class="anchor" id="line-124"></span><span class="anchor" id="line-125"></span><p class="line874">As of 0.96, fonts should keep their width correctly when zoomed in and out.  However, due to differences in font rendering engines and in fonts available, the width may not be the same when moving files between computers, and particularly when moving between Windows and Unix. <span class="anchor" id="line-126"></span><span class="anchor" id="line-127"></span><p class="line867">
<h3 id="head-8e3ca20e64c089f93b783e67f5819be36ff47ccf">1.2.15. The fonts are really unreadably tiny, either on screen or when writing PNG.</h3>
<span class="anchor" id="line-128"></span><p class="line874">This should only be an issue for versions 0.92 to 0.94.  If you are using any of these versions, you should upgrade. <span class="anchor" id="line-129"></span><span class="anchor" id="line-130"></span><p class="line874">Dia 0.91 assumed things about Pango that weren't guaranteed, but didn't make a difference at the time. However, Pango 1.2.4 and up changed so that Dia's wrong assumptions now cause problems. This is fixed in Dia 0.92.1. Alternatively, if you can't install 0.92.1, you can downgrade your Pango to below 1.2.4. We highly recommend using the newest version of Dia, though. In Dia 0.92-0.94, we used a reworked cache which still didn't quite keep different sizes of the same text apart, so text would change size between huge, tiny and normal. In 0.95, the cache is disabled. <span class="anchor" id="line-131"></span><span class="anchor" id="line-132"></span><p class="line867">
<h3 id="head-633d7b2cd19f44e1f2c28d68e9001b2920294fec">1.2.16. How do I use Dia in English (or other language) when my Operating System is set to a different language</h3>
<span class="anchor" id="line-133"></span><p class="line874">The recommended way to change the language in Dia is to change the Operating System language and Dia will follow the default.  However many people have asked if they can use Dia in a language other than the current set default language.   If the language you want is English the easiest approach is to move or remove the language files (.mo) and allow the default English to show through instead.   (There also exists a slightly more complicated approach whereby you set the locale variable on the command line.) <span class="anchor" id="line-134"></span><span class="anchor" id="line-135"></span><p class="line867">
<h3 id="head-c6bbfbf9aa063c254a5f8628a4831e59cb26052d">1.2.17. Why can't I select anything after loading a diagram?</h3>
<span class="anchor" id="line-136"></span><span class="anchor" id="line-137"></span><p class="line874">Check the layers dialog.  The active layer didn't get saved with the  <span class="anchor" id="line-138"></span>file.  None of the objects you are trying to select are on the default  <span class="anchor" id="line-139"></span>layer. <span class="anchor" id="line-140"></span><span class="anchor" id="line-141"></span><p class="line867">
<h3 id="head-7287c0e4476e60c0b220b033538a7e683fb7995a">1.2.18. How can I define a standard font size for an object?</h3>
<span class="anchor" id="line-142"></span><span class="anchor" id="line-143"></span><p class="line874">Double click on the object in the toolbox to open a dialog that allows you to specify a default font size for the object. <span class="anchor" id="line-144"></span><span class="anchor" id="line-145"></span><p class="line867">
<h2 id="head-3e02b5ccca769d75815ee6105eac8a5b0e836197">1.3. Saving and Printing</h2>
<span class="anchor" id="line-146"></span><p class="line867">
<h3 id="head-f692664621cabe413e264696cfa3af921ca1d230">1.3.1. What format is the .dia file</h3>
<span class="anchor" id="line-147"></span><p class="line874">The native Dia file format (extension .dia) is XML compressed with GZip. You can select not to compress the files in the Preferences or in the save dialog. <span class="anchor" id="line-148"></span><span class="anchor" id="line-149"></span><p class="line867">
<h3 id="head-61c74c5b62d5b553b5fcfe5a2791b03616feef99">1.3.2. How can I scale the diagram to fit a page</h3>
<span class="anchor" id="line-150"></span><p class="line874">In the Page Setup dialog (selected from File/Page Setup), select Fit to:, and the blue lines will continuously self-adjust to fit to a page (or several pages). <span class="anchor" id="line-151"></span><span class="anchor" id="line-152"></span><p class="line867">
<h3 id="head-497733fd3d5095f8d47329ce34df2badae627eb6">1.3.3. How do I use a exported TeX/PSTricks file in my TeX document</h3>
<span class="anchor" id="line-153"></span><p class="line862">First add <tt>\usepackage{pstricks</tt>} to the preamble of your TeX document. Then include your image as <span class="anchor" id="line-154"></span><span class="anchor" id="line-155"></span><p class="line867"><span class="anchor" id="line-156"></span><span class="anchor" id="line-157"></span><span class="anchor" id="line-158"></span><span class="anchor" id="line-159"></span><span class="anchor" id="line-160"></span><span class="anchor" id="line-161"></span><span class="anchor" id="line-162"></span><pre>\begin{figure}
\centering
\input{filename.tex}
\caption{A caption}
\label{figure:alabel}
\end{figure}</pre><span class="anchor" id="line-163"></span><p class="line874">in your document. <span class="anchor" id="line-164"></span><span class="anchor" id="line-165"></span><p class="line867"><strong>Note:</strong> PSTricks in the tetex-1.0.6-11 RPM (used in Red Hat Linux 6.2) is buggy. Easiest fix is to get <a class="http" href="http://www.ctan.org/cgi-bin/CTANfilesearch.pl?FILESTRING=pstricks.texftp://ftp.sunsite.utk.edu/pub/CTAN/graphics/pstricks/generic/pstricks.tex">pstricks.tex</a> from <a class="http" href="http://www.ctan.org/">CTAN</a> and put it in <tt>/usr/share/texmf/tex/generic/pstricks/</tt>. <span class="anchor" id="line-166"></span><span class="anchor" id="line-167"></span><p class="line867">
<h3 id="head-487bacf7964ad2509c6679cc652176e4df47d505">1.3.4. I wish I had nice zigzags and coils as in PSTricks. How could I get them</h3>
<span class="anchor" id="line-168"></span><p class="line862">Draw them as standard lines in dia. Then in the .tex file replace \psline by \pccoil or \pczigzag. For more information on their arguments look into your PSTricks documentation included in your PSTricks package or at PSTricks <a class="http" href="http://www.tug.org/applications/PSTricks/index.html">home page</a>. Careful! Lines with more then one segment have to be split into separate segments when pccoil and pczigzag are used. <span class="anchor" id="line-169"></span><span class="anchor" id="line-170"></span><p class="line867">
<h3 id="head-c153be81e59c5b663ca1a9797bafdddbc4a5d5d0">1.3.5. How do I put (La)TeX formulas on my diagram</h3>
<span class="anchor" id="line-171"></span><p class="line862">Put them as you would put them in TeX, e.g.: <tt>$\delta^{\dagger}_2$</tt>. At the moment of writing this FAQ it is not yet displayed correctly in dia but TeX code produced should be fine. The bounding-box of the formula will not be calculated correctly.  We're hoping for some kind, LaTeX-loving soul to implement the interface to TeX that will allow us to get a bitmap rendering of the <a class="nonexistent" href="/TeXified">TeXified</a> output.  It probably would require some way to set TeX invocation string, preamble and postamble. <span class="anchor" id="line-172"></span><span class="anchor" id="line-173"></span><p class="line867">
<h3 id="head-4b11344820651eaaeae0ee056643900465ea4b25">1.3.6. Why is printing broken</h3>
<span class="anchor" id="line-174"></span><p class="line874">Dia has several ways to print: Dia print, Gnome print and Export as !Postscript. A given compilation of Dia uses either Dia print or Gnome print. Dia's support for Gnome print is currently buggy and disabled by default, but some distributions (Red Hat for one) compile it in anyway. If you have such a version of Dia installed, you can Export as !Postscript instead of printing, and then print the resulting file. <span class="anchor" id="line-175"></span><span class="anchor" id="line-176"></span><p class="line867">
<h3 id="head-fbbf28c96914751b4b08f0721aefabb7043e63be">1.3.7. How can I use Dia to convert files without running X</h3>
<span class="anchor" id="line-177"></span><p class="line874">Version 0.94 of Dia should be able to convert files without running X. However, a working installation of GTK is required to link the program, and Pango must be available for text conversion. <span class="anchor" id="line-178"></span><span class="anchor" id="line-179"></span><p class="line874">Earlier versions of Dia depend on X for various things, but it is planned to allow conversions without running X. In the meanwhile, you can use Xvbf to simulate an X server with the command: <span class="anchor" id="line-180"></span><span class="anchor" id="line-181"></span><p class="line867"><tt>startx&nbsp;"/usr/bin/env&nbsp;DISPLAY=:1&nbsp;/usr/bin/dia&nbsp;-e&nbsp;$HOME/tmp/foo.png&nbsp;$HOME/tmp/foo.dia"&nbsp;--&nbsp;/usr/!X11R6/bin/Xvfb&nbsp;:1&nbsp;-once&nbsp;-nolisten&nbsp;tcp</tt> <span class="anchor" id="line-182"></span><span class="anchor" id="line-183"></span><p class="line874">Thanks to Basile Starynkevitch for this hint. <span class="anchor" id="line-184"></span><span class="anchor" id="line-185"></span><p class="line867">
<h3 id="head-5e204b64cc898bebf9070776d70673992caad27a">1.3.8. How do I make Dia use !PostScript fonts instead of Pango rendering</h3>
<span class="anchor" id="line-186"></span><p class="line862">The current PostScript output on systems with font-config involves rendering the fonts as bezier curves. This gives an (almost) perfect output, but doesn't allow PostScript tools to operate on the fonts. If you want to get output using PostScript fonts, use the EPS export filter marked as "using PostScript Latin-1 fonts". To use this from the command line for conversions, add <tt>--export-to-format=eps-builtin</tt> to the command line. <span class="anchor" id="line-187"></span><span class="anchor" id="line-188"></span><p class="line874">Note that this export doesn't support other encodings than Latin-1 and is limited to the "standard 13" set of fonts. Please don't ask us to add other encodings to this. We will not do it. It's an interim solution while we try to get embedded fonts out of Pango (maybe using PangoPDF) or find a proper way to include partial fonts. <span class="anchor" id="line-189"></span><span class="anchor" id="line-190"></span><p class="line867">
<h3 id="head-32735cd1928597b03a2ec3d310c263850ce043e0">1.3.9. When printing I get many pages of text starting with: %!PS-Adobe-2.0. What to do</h3>
<span class="anchor" id="line-191"></span><p class="line862">Buy a postscript printer or implement GDI printing ... <img alt=":)" height="15" src="/moin_static164/gnome/img/smile.png" title=":)" width="15" /> The other option is to install <a class="http" href="http://www.ghostscript.com/">Ghostscript</a> along with its print redirector so you can have a Windows printer that filters things through gs. <span class="anchor" id="line-192"></span><span class="anchor" id="line-193"></span><p class="line867">
<h2 id="head-fb96fb035a0dabede8d68d75292975c4390cbbc0">1.4. Compiling Dia</h2>
<span class="anchor" id="line-194"></span><p class="line867">
<h3 id="head-0a23e57085d9f0de4e8200178afdc05272756f67">1.4.1. Why can't I compile Dia</h3>
<span class="anchor" id="line-195"></span><p class="line874">In most cases, it is because you have an old version of a support library. The libraries needed to compile Dia version 0.91+ are: <span class="anchor" id="line-196"></span><span class="anchor" id="line-197"></span><ul><li><p class="line891"><a class="http" href="http://www.gnome.org/projects/dia/faq.html">pkg-config</a> version 0.14.0 or higher. <span class="anchor" id="line-198"></span></li><li><p class="line891"><a class="ftp" href="ftp://ftp.gnome.org/pub/GNOME/sources/gtk+/">GTK version</a> 2.0.0+ <span class="anchor" id="line-199"></span></li><li><p class="line862">and related libraries (glib, atk, pkg-config, pango). Pango version 1.1.5 or higher. Must be compiled with the PangoFT2 module. Pango 1.1.5 and higher depend on GLib version 2.1.3 or higher. PangoFT2 depends on <a class="http" href="http://www.fontconfig.org/">font-config</a> version 1.0.1 or higher. <span class="anchor" id="line-200"></span></li><li><p class="line891"><a class="ftp" href="ftp://ftp.gnome.org/pub/gnome/sources/libxml/">libxml</a> version 2.3.9 or higher <span class="anchor" id="line-201"></span></li><li><p class="line891"><a class="ftp" href="ftp://ftp.gnome.org/pub/gnome/sources/intltool/">intltool</a> version 0.21 or higher. <span class="anchor" id="line-202"></span></li><li><p class="line891"><a class="http" href="http://www.freetype.org/">freetype</a> version 2.0.9 or higher on Unix. <span class="anchor" id="line-203"></span></li></ul><p class="line874">Optional libraries that add extra features (for 0.91+): <span class="anchor" id="line-204"></span><span class="anchor" id="line-205"></span><ul><li><p class="line891"><a class="http" href="http://download.sourceforge.net/libpng/">libpng</a> (for png export support) <span class="anchor" id="line-206"></span></li><li><p class="line891"><a class="ftp" href="ftp://ftp.gnome.org/pub/GNOME/sources/gnome-libs/">gnome-libs</a> (for Gnome support) <span class="anchor" id="line-207"></span></li><li><p class="line891"><a class="http" href="http://www.artofcode.com/libart.html">libart</a> version 2.1.0 or higher, for antialiasing and PNG export support. <span class="anchor" id="line-208"></span></li><li><p class="line891"><a class="ftp" href="ftp://ftp.gnome.org/pub/GNOME/sources/libxslt/">libxslt</a> for the XSLT plug-in. <span class="anchor" id="line-209"></span></li><li><p class="line891"><a class="http" href="http://www.python.org/">Python</a> and <a class="ftp" href="ftp://ftp.gtk.org/pub/gtk/python/v2.0">PyGtk2</a> for Python support <span class="anchor" id="line-210"></span></li></ul><p class="line874">The libraries needed to compile Dia as of version 0.90 are: <span class="anchor" id="line-211"></span><span class="anchor" id="line-212"></span><ul><li><p class="line891"><a class="ftp" href="ftp://ftp.gnome.org/pub/GNOME/sources/glib/">Glib</a> version 1.2.0+ (required by GTK) <span class="anchor" id="line-213"></span></li><li><p class="line891"><a class="ftp" href="ftp://ftp.gnome.org/pub/GNOME/sources/gtk+/">GTK</a> version 1.2.0+ <span class="anchor" id="line-214"></span></li><li><p class="line891"><a class="ftp" href="ftp://ftp.gnome.org/pub/GNOME/sources/gdk-pixbuf/">Gdk-Pixbuf</a> version 0.7.0+ (can be replaced with <a class="ftp" href="ftp://ftp.gnome.org/pub/GNOME/sources/imlib/">Imlib</a> version 1.8.0+) <span class="anchor" id="line-215"></span></li><li><p class="line891"><a class="ftp" href="ftp://ftp.gnome.org/pub/gnome/sources/libxml/">libxml</a> version 1.8.5+ <span class="anchor" id="line-216"></span></li><li><p class="line891"><a class="ftp" href="ftp://ftp.gnome.org/pub/gnome/sources/intltool/">intltool</a> version 0.12 or higher. <span class="anchor" id="line-217"></span></li><li><p class="line891"><a class="ftp" href="ftp://ftp.gnome.org/pub/GNOME/sources/libunicode/">libunicode</a> <span class="anchor" id="line-218"></span><ul><li style="list-style-type:none"><p class="line862">version 0.4 (not the version 0.7 available at SourceForge). Optional libraries that add extra features (for 0.90): <span class="anchor" id="line-219"></span></li></ul></li><li><p class="line891"><a class="http" href="http://download.sourceforge.net/libpng/">libpng</a> (for png export support) <span class="anchor" id="line-220"></span></li><li><p class="line891"><a class="ftp" href="ftp://ftp.gnome.org/pub/GNOME/sources/gnome-libs/">gnome-libs</a> (for Gnome support) <span class="anchor" id="line-221"></span></li><li><p class="line891"><a class="ftp" href="ftp://ftp.gnome.org/pub/GNOME/sources/bonobo/">bonobo</a> (for document embedding support, requires Gnome) <span class="anchor" id="line-222"></span></li><li><p class="line891"><a class="http" href="http://www.freetype.org/">freetype</a> version 2.0.9 or higher, for better font support. <span class="anchor" id="line-223"></span></li><li><p class="line891"><a class="http" href="http://www.artofcode.com/libart.html">libart</a> version 2.1.0 or higher, for antialiasing and PNG export support. <span class="anchor" id="line-224"></span></li></ul><p class="line862">Note that if you use some package system (<tt>dpkg</tt> or <tt>RPM</tt>), you will need to download the development packages (<tt>-dev</tt> or <tt>-devel</tt>). <span class="anchor" id="line-225"></span><span class="anchor" id="line-226"></span><p class="line862">Some systems, notably Red Hat and derivatives, don't have <tt>/usr/local/lib</tt> in <tt>/etc/ld.so.conf</tt>. GNU applications by default install into <tt>/usr/local</tt> when compiled. To make Dia work there, either add <tt>/usr/local/lib</tt> to <tt>/etc/ld.so.conf</tt> and run ldconfig as root, or configure with <tt>--prefix=/usr</tt> to put everything in <tt>/usr</tt>. <span class="anchor" id="line-227"></span><span class="anchor" id="line-228"></span><p class="line867">
<h3 id="head-3169a5f1d18b90aa32f8ba825668caaf5895abc0">1.4.2. How can I convert the tar file to an rpm</h3>
<span class="anchor" id="line-229"></span><p class="line867"><strong>This section needs updating</strong> <span class="anchor" id="line-230"></span><span class="anchor" id="line-231"></span><p class="line862">As of version 0.95, Dia does not attempt to update its own .spec file, simply because there are too many differences between distributions.  Instead, there is a subdirectory <tt>WHERE</tt> that contains various .spec files.  Thus, the line below needs to have a .spec file specified. <span class="anchor" id="line-232"></span><span class="anchor" id="line-233"></span><p class="line867"><tt>rpmbuild&nbsp;-ta&nbsp;dia-XXX.tar.gz</tt> <span class="anchor" id="line-234"></span><span class="anchor" id="line-235"></span><p class="line867">
<h3 id="head-16bfcd1376cebddfad45616294d9ba460fa495a0">1.4.3. Can Dia compile on Mac OS X</h3>
<span class="anchor" id="line-236"></span><p class="line862">Yes, on Mac OS X 10.4.2, using fink versions of libtool 1.5.10, autoconf 2.59, and automake 1.9.4, Daniel Rogers has managed to compile Dia 0.94 under Mac. See <a class="http" href="http://mail.gnome.org/archives/dia-list/2005-July/msg00030.html">this mail</a>. It has not been reported to compile with any non-X port of Gtk2. <span class="anchor" id="line-237"></span><span class="anchor" id="line-238"></span><p class="line867">
<h3 id="head-f841c4f958b0c43b3d03a71a53d60ac542b1d39a">1.4.4. Why does my copy of Dia for Windows die when I try to load it</h3>
<span class="anchor" id="line-239"></span><p class="line862">Because the HOME environment variable is not set. Add a line like this to your <tt>autoexec.bat</tt> file: <span class="anchor" id="line-240"></span><span class="anchor" id="line-241"></span><ul><li style="list-style-type:none"><p class="line891"><tt>&nbsp;set&nbsp;HOME=c:\home&nbsp;</tt> <span class="anchor" id="line-242"></span></li></ul><p class="line862">then restart your computer and make sure <tt>c:\home</tt> exists. The path should not contain any spaces and is case-sensitive (<tt>c:\Home</tt> is not the same as <tt>c:\home</tt>). <span class="anchor" id="line-243"></span><span class="anchor" id="line-244"></span><p class="line874">As of Dia 0.88.1, this problem should no longer happen. <span class="anchor" id="line-245"></span><span class="anchor" id="line-246"></span><p class="line867">
<h2 id="head-3a3bb6888684620d77780b36d41e3eff5b561116">1.5. Extending Dia</h2>
<span class="anchor" id="line-247"></span><p class="line867">
<h3 id="head-776732dc27bfdebfb4fb071c9bacf1850d4a28c9">1.5.1. How do I make patches for Dia so that they are integrated with minimum delay</h3>
<span class="anchor" id="line-248"></span><p class="line874">Cyrille Chepelov answered this question in depth after yet another impractical patch had arrived on the list. To avoid headaches for everybody, please follow these words of wisdom: <span class="anchor" id="line-249"></span><span class="anchor" id="line-250"></span><p class="line874">The best way to generate these is to download the tree through anonymous CVS (from cvs.gnome.org, this is possible of course also for Windows with the "Universal Geek user interface device driver" (cygwin)). <span class="anchor" id="line-251"></span><span class="anchor" id="line-252"></span><p class="line862">Then, all what is necessary is to do <tt>cvs&nbsp;adds</tt> (commit will of course not be accepted), do a <tt>cvs&nbsp;-z3&nbsp;up&nbsp;-PAd</tt> to check that the patch will be as up to date as possible, and issue the following command: <tt>cvs&nbsp;-z3&nbsp;diff&nbsp;-Nu&nbsp;2&gt;/tmp/diff.log&nbsp;|&nbsp;gzip&nbsp;&gt;/tmp/some.patch.gz</tt> <span class="anchor" id="line-253"></span><span class="anchor" id="line-254"></span><p class="line862">Study diff.log to check that no files have been unnecessarily touched. zless the patch to check that all changes are accounted for in ChangeLog and are justified (one patch per orthogonal set of changes is also preferred). <span class="anchor" id="line-255"></span><span class="anchor" id="line-256"></span><p class="line874">An alternative is to have two copies, one pristine and one work area, of the same tree, preferably a recent CVS snapshot. Modify all files and test in the work area; then make distclean in both trees, and in the directory which contains both trees, do something like : <span class="anchor" id="line-257"></span><span class="anchor" id="line-258"></span><p class="line867"><span class="anchor" id="line-259"></span><span class="anchor" id="line-260"></span><span class="anchor" id="line-261"></span><span class="anchor" id="line-262"></span><span class="anchor" id="line-263"></span><span class="anchor" id="line-264"></span><pre>diff -urN dia-pristine dia-workarea &gt;/tmp/some.patch
grep "^+++" /tmp/some.patch # check that no files have been unnecessarily
# touched, added or removed.
less /tmp/some.patch # check that patch is correct
gzip /tmp/some.patch</pre><span class="anchor" id="line-265"></span><p class="line874">Again, this is possible even on a (okay, recent) Macintosh. <span class="anchor" id="line-266"></span><span class="anchor" id="line-267"></span><p class="line862">Send the patch as an attachment. Don't resend the same version of the patch twice on the list (when replying to yourself with updates...). Keep large patches (&gt; 5-40 kb) for private mails and/or in <a class="http" href="http://bugzilla.gnome.org/">Bugzilla</a> (URL in the mailing list is of course welcome; small patches are okay, especially if some discussion on them is sought). <span class="anchor" id="line-268"></span><span class="anchor" id="line-269"></span><p class="line867">
<h3 id="head-cb4379e2282f018337241a044f4fa992e5c82e6f">1.5.2. After compiling, when I run Dia it fails with the following error:</h3>
<span class="anchor" id="line-270"></span><p class="line867"><tt>"Couldn't&nbsp;find&nbsp;standard&nbsp;objects&nbsp;when&nbsp;looking&nbsp;for&nbsp;object-libs,&nbsp;exiting..."</tt> <span class="anchor" id="line-271"></span><span class="anchor" id="line-272"></span><p class="line862">You're trying to run the Dia executable directly from the source directories. Either do <tt>make&nbsp;install</tt>, or run with the wrapper script app/run_dia.sh. That way, Dia will know where to find its objects. <span class="anchor" id="line-273"></span><span class="anchor" id="line-274"></span><p class="line867">
<h3 id="head-2bb408b1bae45e4fa80ee73d0de7f2e09f68800e">1.5.3. How do I add new shapes/sheets?</h3>
<span class="anchor" id="line-275"></span><p class="line862">An explanation is given in [<a class="http" href="http://www.gnome.org/projects/dia/custom-shapes">http://www.gnome.org/projects/dia/custom-shapes</a> <span class="anchor" id="line-276"></span>doc/custom-shapes] in the source distribution on how the shape format <span class="anchor" id="line-277"></span>works. <span class="anchor" id="line-278"></span><span class="anchor" id="line-279"></span><p class="line862">Sam Liddicott has provided a <a href="/Dia/SvgToShapeXslt">Dia/SvgToShapeXslt</a> that will make a shape from <span class="anchor" id="line-280"></span>any SVG file, including connection points.  With this, it should be easy to <span class="anchor" id="line-281"></span>create shapes with, say, Inkscape. <span class="anchor" id="line-282"></span><span class="anchor" id="line-283"></span><p class="line862">However, Dia now also has the capability of exporting a diagram as a shape. Each collection of shapes (called a sheet) should be kept together in a subdirectory of <tt>~/.dia/shapes</tt>, e.g, <tt>~/.dia/shapes/Engines</tt>. To make a shape, first design it in Dia. Then export it into your subdirectory. Two files will be generated, a .shape file and a .png file (the icon). <span class="anchor" id="line-284"></span><span class="anchor" id="line-285"></span><p class="line874">From version 0.90 and up, Dia features a Sheets and Objects editor which will allow you to load the shape into a sheet. It will also update Dia's loaded objects on the fly. <span class="anchor" id="line-286"></span><span class="anchor" id="line-287"></span><p class="line862">If you still want to do things by hand, update the corresponding sheet file in <tt>~/.dia/sheets</tt>, in this case called <tt>Engines.sheet</tt>. Example contents of a sheet file is: <span class="anchor" id="line-288"></span><span class="anchor" id="line-289"></span><p class="line867"><span class="anchor" id="line-290"></span><span class="anchor" id="line-291"></span><span class="anchor" id="line-292"></span><span class="anchor" id="line-293"></span><span class="anchor" id="line-294"></span><span class="anchor" id="line-295"></span><span class="anchor" id="line-296"></span><span class="anchor" id="line-297"></span><span class="anchor" id="line-298"></span><span class="anchor" id="line-299"></span><span class="anchor" id="line-300"></span><pre>&lt;?xml version="1.0" encoding="iso-8859-1"?&gt; &lt;!-- -*- xml -*- --&gt;
&lt;sheet xmlns="http://www.lysator.liu.se/~alla/dia/dia-sheet-ns"&gt;
  &lt;name&gt;Engines&lt;/name&gt;
  &lt;description&gt;Mechanical Engines&lt;/description&gt;
  &lt;contents&gt;
    &lt;object name="Engines - Gas"&gt;
      &lt;description&gt;A gas engine&lt;/description&gt;
    &lt;/object&gt;
  &lt;/contents&gt;
&lt;/sheet&gt;</pre><span class="anchor" id="line-301"></span><p class="line874">Each new object should be added to the sheet by adding an object section. Next time you restart Dia, the new objects should show up in the list of sheets. <span class="anchor" id="line-302"></span><span class="anchor" id="line-303"></span><p class="line874">If you want your sheets and shapes included in Dia, please create a .sheet.in file where the name and description tags are replaced by _name resp. _description.  This allows us to have an external translation of the sheets.  The sed script below outputs a .sheet.in file from a .sheet file: <span class="anchor" id="line-304"></span><span class="anchor" id="line-305"></span><p class="line867"><span class="anchor" id="line-306"></span><span class="anchor" id="line-307"></span><pre>sed 's!&lt;name&gt;!&lt;_name&gt;!;s!&lt;/name&gt;!&lt;/_name&gt;!;s!&lt;description&gt;!&lt;_description&gt;!;s!&lt;/description&gt;!&lt;/_description&gt;!;'</pre><span class="anchor" id="line-308"></span><span class="anchor" id="line-309"></span><p class="line867">
<h3 id="head-322f51093018719afc5d3c7536437cc6ad486abf">1.5.4. Can Dia open Visio .vsd files?</h3>
<span class="anchor" id="line-310"></span><p class="line874">No, it can't. Visio file format is a completely proprietary and undocumented file format. So it is really difficult to write code to read it. The now-defunct Software Bazaar offered a bounty of several thousand dollars for reverse-engineering the Visio format. We really would like to be able to do so. <span class="anchor" id="line-311"></span><span class="anchor" id="line-312"></span><p class="line874">An easier alternative would be to make a Visio plug-in that will allow conversion. Other programs have already done this for their proprietary formats. If somebody were to make such a script, we could set up a public server to do conversions. <span class="anchor" id="line-313"></span><span class="anchor" id="line-314"></span><p class="line862">With Visio 2002, it has become possible to export Visio diagrams as XML (.vdx). Microsoft, in their infinite generosity, has even published the <a class="http" href="http://msdn.microsoft.com/library/en-us/devref/HTML/XMLR_Schema_831.asp?frame=true">Schema</a>.  Ian Redfern has made use of this, and a VDX importer/exporter is part of Dia as of version 0.96. <span class="anchor" id="line-315"></span><span class="anchor" id="line-316"></span><p class="line862">Ian Redfern is working on <a class="http" href="http://public.logicacmg.com/~redferni/visio/">decoding the Visio format</a>. If you have any interest in converting Visio files, please give him your assistance. <span class="anchor" id="line-317"></span>Valek Filippov made a little <a class="http" href="http://freshmeat.net/projects/vsdump/">research</a> of the VSD/VSS file format. At some point Ian is going to hook the results to a VDX importer. <span class="anchor" id="line-318"></span>Right now vsdump can be useful for dumping images embedded into VSS stencils to subsequent converting them into Dia sheets. <span class="anchor" id="line-319"></span><span class="anchor" id="line-320"></span><p class="line867">
<h2 id="head-f2028a92c25de8331193cd16137efbca53e4b6d7">1.6. Licensing</h2>
<span class="anchor" id="line-321"></span><p class="line867">
<h3 id="head-b74689556117be390de17c16d1ff51d275d8bc88">1.6.1. Under what license is Dia released?</h3>
<span class="anchor" id="line-322"></span><p class="line862">Dia is released under the GPL, version 2. The full text and more information about the GPL can be found on the <a class="http" href="http://www.gnu.org/licenses/old-licenses/gpl-2.0.html">GPL website</a>. <span class="anchor" id="line-323"></span><span class="anchor" id="line-324"></span><p class="line867">
<h3 id="head-4b4161ecc8cc5b32205efecd4f8b2ca9bc2db35e">1.6.2. Under what license are any diagrams I create in Dia held?</h3>
<span class="anchor" id="line-325"></span><p class="line862">As explained on the <a class="http" href="http://www.gnu.org/licenses/old-licenses/gpl-2.0-faq.html#GPLOutput">GPL website</a>, the developers of Dia have no claim to any diagrams you create using Dia. Therefore, you are free to license any diagrams you create with Dia however you wish. <span class="anchor" id="line-326"></span><span class="anchor" id="line-327"></span><p class="line862">If you are looking for an open license with which to license your diagrams, you might want to consider the <a class="http" href="http://creativecommons.org/">Creative Commons</a>. <span class="anchor" id="line-328"></span><span class="anchor" id="bottom"></span></div><p id="pageinfo" class="info" lang="en" dir="ltr">Dia/Faq  (last edited 2009-04-13 13:40:09 by <span title="NickMoore @ host86-152-88-185.range86-152.btcentralplus.com[86.152.88.185]"><a class="nonexistent" href="/NickMoore" title="NickMoore @ host86-152-88-185.range86-152.btcentralplus.com[86.152.88.185]">NickMoore</a></span>)</p>

