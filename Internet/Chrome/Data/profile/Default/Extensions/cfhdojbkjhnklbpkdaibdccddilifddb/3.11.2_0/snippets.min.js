/*
 * This file is part of Adblock Plus <https://adblockplus.org/>,
 * Copyright (C) 2006-present eyeo GmbH
 *
 * Adblock Plus is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * Adblock Plus is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Adblock Plus.  If not, see <http://www.gnu.org/licenses/>.
 */
"use strict";let ABP=getABPNamespace();let{Object:Object,utils:utils,DOM:DOM,isExtensionContext:isExtensionContext}=ABP;let{getComputedStyle:getComputedStyle,setInterval:setInterval,setTimeout:setTimeout,performance:performance,fetch:fetch,getWindowFrames:getWindowFrames,getOnerror:getOnerror,setOnerror:setOnerror}=ABP.window;let fetchContentMap=new Map;let dependencyGraph=new Map;let injectionCode=[];let injectionDependencies=new Set;exports.prepareInjection=()=>{injectionCode.splice(0);injectionDependencies.clear()};exports.commitInjection=()=>{if(injectionCode.length<1)return;let e=injectionCode.splice(0);let t=[...injectionDependencies];injectionDependencies.clear();let r=`\n    (function()\n    {\n      "use strict";\n\n      let secured = (Class) =>\n      {\n        class Secured extends Class {};\n        let a = Class.prototype;\n        let b = Secured.prototype;\n        for (let key of Reflect.ownKeys(a))\n        {\n          let desc = window.Object.getOwnPropertyDescriptor(a, key);\n          desc.configurable = false;\n          if (desc.writable)\n            desc.writable = false;\n          window.Object.defineProperty(b, key, desc);\n        }\n        return Secured;\n      };\n\n      let MutationObserver = secured(window.MutationObserver);\n      let DOMParser = secured(window.DOMParser);\n      let Set = secured(window.Set);\n      let Array = secured(window.Array);\n      let RegExp = secured(window.RegExp);\n      let ReferenceError = secured(window.ReferenceError);\n      let Error = secured(window.Error);\n      let URL = secured(window.URL);\n      let XPathEvaluator = secured(window.XPathEvaluator);\n      \n      let environment = ${JSON.stringify(environment)};\n      let ABP = (${getABPNamespace})();\n      let {Object, utils, DOM, isExtensionContext} = ABP;\n      let {getComputedStyle, setInterval, setTimeout, performance, fetch,\n           getWindowFrames, getOnerror, setOnerror} = ABP.window;\n      let debug = ${debug};\n      let inactiveProfile = ${inactiveProfile};\n      let noopProfile = ${noopProfile};\n      ${t.join("\n")}\n      ${e.join("\n")}\n    })();\n  `;let n=document.createElement("script");n.type="application/javascript";n.async=false;if(typeof netscape!="undefined"&&typeof browser!="undefined"){let e=URL.createObjectURL(new Blob([r]));n.src=e;document.documentElement.appendChild(n);URL.revokeObjectURL(e)}else{n.textContent=r;document.documentElement.appendChild(n)}document.documentElement.removeChild(n)};function getABPNamespace(){let{Object:e}=window;let{assign:t,defineProperty:r,freeze:n,getOwnPropertyDescriptor:o,values:i}=window.Object;let{getComputedStyle:l,setInterval:s,setTimeout:a,performance:p}=window;let u=(e,t=[])=>{let i=new e(...t);for(let t of Reflect.ownKeys(e.prototype))r(i,t,o(e.prototype,t));return n(i)};let c=e=>Function.call.bind(e);let d=typeof chrome==="object"&&typeof chrome.runtime!=="undefined";let f=typeof browser==="object"&&typeof browser.runtime!=="undefined";let g=d||f;if(g&&f)self.chrome=browser;return n({isExtensionContext:g,Object:n({assign:t.bind(e),defineProperty:r.bind(e),getOwnPropertyDescriptor:o.bind(e),values:(i||function(e){return this.keys(e).map((t=>e[t]))}).bind(e),self:e}),utils:n({Math:{floor:Math.floor.bind(Math),random:Math.random.bind(Math)},parseFloat:parseFloat.bind(window),isOwnProperty:c(e.prototype.hasOwnProperty),String:{replace:c(String.prototype.replace),substring:c(String.prototype.substring),indexOf:c(String.prototype.indexOf),slice:c(String.prototype.slice),includes:c(String.prototype.includes),split:c(String.prototype.split),trim:c(String.prototype.trim),startsWith:c(String.prototype.startsWith),endsWith:c(String.prototype.endsWith)},CSSStyleDeclaration:{setProperty:c(CSSStyleDeclaration.prototype.setProperty),getPropertyValue:c(CSSStyleDeclaration.prototype.getPropertyValue),getPropertyPriority:c(CSSStyleDeclaration.prototype.getPropertyPriority)},Array:{push:c(Array.prototype.push),unshift:c(Array.prototype.unshift),pop:c(Array.prototype.pop),some:c(Array.prototype.some),filter:c(Array.prototype.filter),map:c(Array.prototype.map),join:c(Array.prototype.join),forEach:c(Array.prototype.forEach),from:Array.from.bind(Array)},Function:{apply:c(Function.prototype.apply),call:c(Function.prototype.call),bind:c(Function.prototype.bind),toString:c(Function.prototype.toString)},Number:{toString:c(Number.prototype.toString)},console:{log:console.log.bind(console),dir:console.dir.bind(console),groupCollapsed:console.groupCollapsed.bind(console),groupEnd:console.groupEnd.bind(console)},JSON:{parse:JSON.parse.bind(JSON),self:JSON},MutationRecord:{getAddedNodes:c(o(window.MutationRecord.prototype,"addedNodes").get)},Node:{ELEMENT_NODE:Node.ELEMENT_NODE,TEXT_NODE:Node.TEXT_NODE,prototype:Node.prototype},Element:{prototype:Element.prototype},HTMLElement:{prototype:HTMLElement.prototype},HTMLScriptElement:{self:HTMLScriptElement},EventTarget:{prototype:EventTarget.prototype,addEventListener:c(EventTarget.prototype.addEventListener)},RegExp:{test:c(RegExp.prototype.test)},URLSearchParams:{delete:c(URLSearchParams.prototype.delete)},XPathExpression:{evaluate:c(XPathExpression.prototype.evaluate)},XPathResult:{getSnapshotLength:c(o(window.XPathResult.prototype,"snapshotLength").get),snapshotItem:c(XPathResult.prototype.snapshotItem)}}),window:n({getComputedStyle:l.bind(window),setInterval:s.bind(window),setTimeout:a.bind(window),clearInterval:clearInterval.bind(window),clearTimeout:clearTimeout.bind(window),performance:p,fetch:window.fetch,getWindowFrames:o(window,"frames")&&o(window,"frames").get?o(window,"frames").get.bind(window):()=>window.frames,getOnerror:o(window,"onerror")&&o(window,"onerror").get?o(window,"onerror").get.bind(window):()=>window.onerror,setOnerror:o(window,"onerror")&&o(window,"onerror").set?o(window,"onerror").set.bind(window):e=>{window.onerror=e}}),DOM:n({getParentNode:c(o(Node.prototype,"parentNode").get),getTextContent:c(o(Node.prototype,"textContent").get),getSrc:c(o(HTMLScriptElement.prototype,"src").get),getNodeType:c(o(Node.prototype,"nodeType").get),getChildNodes:c(o(Node.prototype,"childNodes").get),getOuterHTML:c(o(Element.prototype,"outerHTML").get),getBody:o(Document.prototype,"body")?c(o(Document.prototype,"body").get):e=>e.body,getCurrentScript:o(Document.prototype,"currentScript")?c(o(Document.prototype,"currentScript").get):e=>e.currentScript,getCookie:o(Document.prototype,"cookie")?o(Document.prototype,"cookie").get.bind(document):e=>e.cookie,setCookie:o(Document.prototype,"cookie")?o(Document.prototype,"cookie").set.bind(document):e=>document.cookie=e,document:n({$$:document.querySelectorAll.bind(document)}),matches:c(Element.prototype.matches),attachShadow:c(Element.prototype.attachShadow),closest:c(Element.prototype.closest),frozen:u(WeakMap),shadows:u(WeakMap),hidden:u(WeakSet),iframePropertiesToAbort:{read:u(Set),write:u(Set)},abortedIframes:u(WeakMap)})})}function registerDependencies(e,...t){if(dependencyGraph.has(e))throw new Error(`duplicated ${e.name} dependencies`);dependencyGraph.set(e,t)}function resolveDependencies(e){injectionDependencies.add(e);for(let t of dependencyGraph.get(e)||[]){if(!injectionDependencies.has(t)){injectionDependencies.add(t);resolveDependencies(t)}}}function fetchContent(e,{as:t="arrayBuffer",cleanup:r=6e4}={}){let n=t+":"+e;let o=fetchContentMap.get(n)||{remove:()=>fetchContentMap.delete(n),result:null,timer:0};ABP.window.clearTimeout(o.timer);o.timer=setTimeout(o.remove,r);if(!o.result){o.result=fetch(e).then((e=>e[t]()));o.result.catch(o.remove);fetchContentMap.set(n,o)}return o.result}function regexEscape(e){return utils.String.replace(e,/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function toRegExp(e){if(e.length>=2&&e[0]=="/"&&e[e.length-1]=="/")return new RegExp(utils.String.substring(e,1,e.length-1));return new RegExp(regexEscape(e))}registerDependencies(toRegExp,regexEscape);function toHex(e,t=2){let r=e.toString(16);if(r.length<t)r="0".repeat(t-r.length)+r;return r}function uint8ArrayToHex(e){return e.reduce(((e,t)=>e+toHex(t)),"")}function getComputedCSSText(e){let t=getComputedStyle(e);let{cssText:r}=t;if(r)return r;for(let e of t)r+=`${e}: ${t[e]}; `;return r.trim()}function stringifyFunctionCall(e,...t){return`${e.name}(${t.map(JSON.stringify).join(",")});`}function makeInjector(e){return(...t)=>{resolveDependencies(e);injectionCode.push(stringifyFunctionCall(e,...t))}}function notifyElementHidden(e){if(isExtensionContext&&typeof checkElement==="function")checkElement(e)}function hideElement(e){if(ABP.DOM.hidden.has(e))return;notifyElementHidden(e);ABP.DOM.hidden.add(e);let{style:t}=e;let r=[];for(let[e,n]of environment.debugCSSProperties||[["display","none"]]){utils.CSSStyleDeclaration.setProperty(t,e,n,"important");let o=utils.CSSStyleDeclaration.getPropertyValue(t,e);utils.Array.push(r,[e,o])}new MutationObserver((()=>{for(let[e,n]of r){let r=utils.CSSStyleDeclaration.getPropertyValue(t,e);let o=utils.CSSStyleDeclaration.getPropertyPriority(t,e);if(r!=n||o!="important")utils.CSSStyleDeclaration.setProperty(t,e,n,"important")}})).observe(e,{attributes:true,attributeFilter:["style"]})}registerDependencies(hideElement,notifyElementHidden);function log(...e){let{mark:t,end:r}=profile("log");if(debug)utils.Array.unshift(e,"%c DEBUG","font-weight: bold");t();utils.console.log(...e);r()}registerDependencies(log,profile);exports.log=log;function trace(...e){log(...e)}registerDependencies(trace,log);exports.trace=makeInjector(trace);function hideIfShadowContains(e,t="*"){let r=utils.Element.prototype.attachShadow;if(!r)return;let n=toRegExp(e);let o=DOM.shadows;function i(e,r){let{host:i,root:l}=o.get(r)||{};if(!i||!l)return;if(n.test(DOM.getTextContent(l))){let e=DOM.closest(i,t);if(e)hideElement(e)}}Object.defineProperty(utils.Element.prototype,"attachShadow",{value(...e){let t=utils.Function.apply(r,this,e);let n=new MutationObserver(i);n.observe(t,{childList:true,characterData:true,subtree:true});o.set(n,{host:this,root:t});return t}})}registerDependencies(hideIfShadowContains,toRegExp,hideElement);exports["hide-if-shadow-contains"]=makeInjector(hideIfShadowContains);function hideIfMatches(e,t,r){if(r==null)r=t;let n=()=>{for(let n of document.querySelectorAll(r)){let r=n.closest(t);if(r&&e(n,r))hideElement(r)}};new MutationObserver(n).observe(document,{childList:true,characterData:true,subtree:true});n()}function hideIfContains(e,t="*",r=null){let n=toRegExp(e);hideIfMatches((e=>n.test(e.textContent)),t,r)}exports["hide-if-contains"]=hideIfContains;function isVisible(e,t,r){if(t.getPropertyValue("display")=="none")return false;let n=t.getPropertyValue("visibility");if(n=="hidden"||n=="collapse")return false;if(!r||e==r)return true;let o=e.parentElement;if(!o)return true;return isVisible(o,getComputedStyle(o),r)}function hideIfContainsVisibleText(e,t,r=null){function n(e,t){if(!t)t=getComputedStyle(e);if(t.getPropertyValue("opacity")=="0")return false;if(t.getPropertyValue("font-size")=="0px")return false;let r=t.getPropertyValue("color");if(r=="rgba(0, 0, 0, 0)")return false;if(t.getPropertyValue("background-color")==r)return false;return true}function o(e,t){let r=getComputedStyle(e,t);if(!isVisible(e,r)||!n(e,r))return"";let{content:o}=r;if(o&&o!=="none"){let t=[];o=o.trim().replace(/(["'])(?:(?=(\\?))\2.)*?\1/g,(e=>`${t.push(e.slice(1,-1))-1}`));o=o.replace(/\s*attr\(\s*([^\s,)]+)[^)]*?\)\s*/g,((t,r)=>e.getAttribute(r)||""));return o.replace(/\x01(\d+)/g,((e,r)=>t[r]))}return""}function i(e,t,r){let l=!r;if(l)r=getComputedStyle(e);if(!isVisible(e,r,l&&t))return"";let s=o(e,":before");for(let t of e.childNodes){switch(t.nodeType){case Node.ELEMENT_NODE:s+=i(t,e,getComputedStyle(t));break;case Node.TEXT_NODE:if(n(e,r))s+=t.nodeValue;break}}return s+o(e,":after")}let l=toRegExp(e);let s=new WeakSet;hideIfMatches(((e,t)=>{if(s.has(e))return false;s.add(e);let r=i(e,t);let n=l.test(r);if(debug&&r.length)log(n,l,r);return n}),t,r)}exports["hide-if-contains-visible-text"]=hideIfContainsVisibleText;function hideIfContainsAndMatchesStyle(e,t="*",r=null,n=null,o=null){if(r==null)r=t;let i=toRegExp(e);let l=n?toRegExp(n):null;let s=o?toRegExp(o):null;new MutationObserver((()=>{for(let e of document.querySelectorAll(r)){if(i.test(e.textContent)&&(!s||s.test(getComputedCSSText(e)))){let r=e.closest(t);if(r&&(!l||l.test(getComputedCSSText(r))))hideElement(r)}}})).observe(document,{childList:true,characterData:true,subtree:true})}exports["hide-if-contains-and-matches-style"]=hideIfContainsAndMatchesStyle;function hideIfHasAndMatchesStyle(e,t="*",r=null,n=null,o=null){if(r==null)r=t;let i=n?toRegExp(n):null;let l=o?toRegExp(o):null;new MutationObserver((()=>{for(let n of document.querySelectorAll(r)){if(n.querySelector(e)&&(!l||l.test(getComputedCSSText(n)))){let e=n.closest(t);if(e&&(!i||i.test(getComputedCSSText(e))))hideElement(e)}}})).observe(document,{childList:true,subtree:true})}exports["hide-if-has-and-matches-style"]=hideIfHasAndMatchesStyle;function hideIfContainsImage(e,t,r){if(r==null)r=t;let n=toRegExp(e);new MutationObserver((()=>{for(let e of document.querySelectorAll(r)){let r=getComputedStyle(e);let o=r["background-image"].match(/^url\("(.*)"\)$/);if(o){fetchContent(o[1]).then((r=>{if(n.test(uint8ArrayToHex(new Uint8Array(r)))){let r=e.closest(t);if(r)hideElement(r)}}))}}})).observe(document,{childList:true,subtree:true})}exports["hide-if-contains-image"]=hideIfContainsImage;function dirString(e="1"){let{dir:t}=utils.console;console.dir=function(r){for(let t=0;t<e;t++)r+"";if(typeof t=="function")utils.Function.call(t,this,r)}}exports["dir-string"]=makeInjector(dirString);function randomId(){return utils.Number.toString(utils.Math.floor(utils.Math.random()*2116316160+60466176),36)}function wrapPropertyAccess(e,t,r){let n=utils.String.indexOf(t,".");if(n==-1){let n=Object.getOwnPropertyDescriptor(e,t);if(n&&!n.configurable)return;let o=Object.assign({},r,{configurable:true});if(!n&&!o.get&&o.set){let r=e[t];o.get=()=>r}Object.defineProperty(e,t,o);return}let o=utils.String.slice(t,0,n);t=utils.String.slice(t,n+1);let i=e[o];if(i&&(typeof i=="object"||typeof i=="function"))wrapPropertyAccess(i,t,r);let l=Object.getOwnPropertyDescriptor(e,o);if(l&&!l.configurable)return;let s=e=>{i=e;if(e&&(typeof e=="object"||typeof i=="function"))wrapPropertyAccess(e,t,r)};Object.defineProperty(e,o,{get:()=>i,set:s,configurable:true})}function overrideOnError(e){let t=getOnerror();setOnerror(((r,...n)=>{if(typeof r=="string"&&utils.String.includes(r,e))return true;if(typeof t=="function")return utils.Function.call(t,this,r,...n)}))}function abortOnPropertyRead(e){abortOnRead("abort-on-property-read",window,e)}registerDependencies(abortOnPropertyRead,abortOnRead);exports["abort-on-property-read"]=makeInjector(abortOnPropertyRead);function abortOnRead(e,t,r){let n=utils.Function.bind(debug?log:()=>{},null,e);if(!r){n("no property to abort on read");return}let o=randomId();function i(){n(`${r} access aborted`);throw new ReferenceError(o)}n(`aborting on ${r} access`);wrapPropertyAccess(t,r,{get:i,set(){}});overrideOnError(o)}registerDependencies(abortOnRead,log,overrideOnError,randomId,wrapPropertyAccess);function abortOnPropertyWrite(e){abortOnWrite("abort-on-property-write",window,e)}registerDependencies(abortOnPropertyWrite,abortOnWrite);exports["abort-on-property-write"]=makeInjector(abortOnPropertyWrite);function abortOnWrite(e,t,r){let n=utils.Function.bind(debug?log:()=>{},null,e);if(!r){n("no property to abort on write");return}let o=randomId();function i(){n(`setting ${r} aborted`);throw new ReferenceError(o)}n(`aborting when setting ${r}`);wrapPropertyAccess(t,r,{set:i});overrideOnError(o)}registerDependencies(abortOnWrite,log,overrideOnError,randomId,wrapPropertyAccess);function abortCurrentInlineScript(e,t=null){let r=t?toRegExp(t):null;let n=randomId();let o=DOM.getCurrentScript(document);let i=window;let l=utils.String.split(e,".");let s=utils.Array.pop(l);for(let e of l){i=i[e];if(!i||!(typeof i=="object"||typeof i=="function"))return}let{get:a,set:p}=Object.getOwnPropertyDescriptor(i,s)||{};let u=i[s];let c=()=>{let e=DOM.getCurrentScript(document);if(e instanceof utils.HTMLScriptElement.self&&DOM.getSrc(e)==""&&e!=o&&(!r||r.test(DOM.getTextContent(e))))throw new ReferenceError(n)};let d={get(){c();if(a)return utils.Function.call(a,this);return u},set(e){c();if(p)utils.Function.call(p,this,e);else u=e}};wrapPropertyAccess(i,s,d);overrideOnError(n)}registerDependencies(abortCurrentInlineScript,overrideOnError,randomId,toRegExp,wrapPropertyAccess);exports["abort-current-inline-script"]=makeInjector(abortCurrentInlineScript);function jsonPrune(e,t=""){if(!e)throw new Error("Missing paths to prune");let r=utils.String.split(e,/ +/);let n=t!==""?utils.String.split(t,/ +/):[];let o=utils.JSON.parse;let i={value(...e){let t;t=utils.Function.apply(o,this,e);if(n.length>0&&utils.Array.some(n,(e=>!findOwner(t,e))))return t;for(let e of r){let r=findOwner(t,e);if(typeof r!="undefined")delete r[0][r[1]]}return t}};Object.defineProperty(utils.JSON.self,"parse",i)}registerDependencies(jsonPrune,findOwner);exports["json-prune"]=makeInjector(jsonPrune);function findOwner(e,t){if(!(e instanceof Object.self))return;let r=e;let n=utils.String.split(t,".");if(n.length===0)return;for(let e=0;e<n.length-1;e++){let t=n[e];if(!utils.isOwnProperty(r,t))return;r=r[t];if(!(r instanceof Object.self))return}let o=n[n.length-1];if(utils.isOwnProperty(r,o))return[r,o]}function jsonOverride(e,t,r="",n=""){if(!e)throw new Error("[json-override snippet]: Missing paths to override.");if(typeof t=="undefined")throw new Error("[json-override snippet]: No value to override with.");let o=utils.String.split(e,/ +/);let i=r!==""?utils.String.split(r,/ +/):[];let l=n?toRegExp(n):null;let s=utils.Function.bind(debug?log:()=>{},null,"json-override");let a=utils.JSON.parse;let p={value(...e){let r=utils.Function.apply(a,this,e);if(n&&!l.test(e[0]))return r;if(i.length>0&&utils.Array.some(i,(e=>!findOwner(r,e))))return r;for(let e of o){let n=findOwner(r,e);if(typeof n!="undefined"){s(`Found ${e} replaced it with ${t}`);n[0][n[1]]=overrideValue(t)}}return r}};Object.defineProperty(utils.JSON.self,"parse",p);s("Wrapped JSON.parse")}registerDependencies(jsonOverride,toRegExp,overrideValue,findOwner,log);exports["json-override"]=makeInjector(jsonOverride);function overrideValue(e){let t;if(e==="false"){t=false}else if(e==="true"){t=true}else if(e==="null"){t=null}else if(e==="noopFunc"){t=()=>{}}else if(e==="trueFunc"){t=()=>true}else if(e==="falseFunc"){t=()=>false}else if(e==="emptyArray"){t=[]}else if(e==="emptyObj"){t={}}else if(utils.RegExp.test(/^\d+$/,e)){t=parseFloat(e)}else if(e===""){t=e}else if(e!=="undefined"){throw new Error("[override-property-read snippet]: "+`Value "${e}" is not valid.`)}return t}function overridePropertyRead(e,t){if(!e){throw new Error("[override-property-read snippet]: "+"No property to override.")}if(typeof t==="undefined"){throw new Error("[override-property-read snippet]: "+"No value to override with.")}let r=utils.Function.bind(debug?log:()=>{},null,"override-property-read");let n=overrideValue(t);let o=()=>{r(`${e} override done.`);return n};r(`Overriding ${e}.`);wrapPropertyAccess(window,e,{get:o,set(){}})}registerDependencies(overridePropertyRead,log,overrideValue,wrapPropertyAccess);exports["override-property-read"]=makeInjector(overridePropertyRead);function freezeElement(e,t="",...r){let n;let o=false;let i=false;let l=utils.Array.filter(r,(e=>!d(e)));let s=utils.Array.map(utils.Array.filter(r,d),toRegExp);let a=randomId();let p;let u=initQueryAll(e);f();let c={selector:e,shouldAbort:i,rid:a,exceptionSelectors:l,regexExceptions:s,changeId:0};if(!ABP.DOM.frozen.has(document)){ABP.DOM.frozen.set(document,true);g()}n=new MutationObserver(h);n.observe(document,{childList:true,subtree:true});h();function d(e){return e.length>=2&&e[0]=="/"&&e[e.length-1]=="/"}function f(){let r=utils.String.split(t,"+");if(r.length===1&&r[0]==="")r=[];for(let t of r){switch(t){case"subtree":o=true;break;case"abort":i=true;break;default:throw new Error("[freeze] Unknown option passed to the snippet."+" [selector]: "+e+" [option]: "+t)}}}function g(){let e;let t={prototype:utils.Node.prototype};let r={prototype:utils.Element.prototype};let n={prototype:utils.HTMLElement.prototype};e=M(t.prototype,"appendChild",o,s);wrapPropertyAccess(t.prototype,"appendChild",e);e=M(t.prototype,"insertBefore",o,s);wrapPropertyAccess(t.prototype,"insertBefore",e);e=M(t.prototype,"replaceChild",o,s);wrapPropertyAccess(t.prototype,"replaceChild",e);e=v(r.prototype,"append",o,s);wrapPropertyAccess(r.prototype,"append",e);e=v(r.prototype,"prepend",o,s);wrapPropertyAccess(r.prototype,"prepend",e);e=v(r.prototype,"replaceWith",i,a);wrapPropertyAccess(r.prototype,"replaceWith",e);e=v(r.prototype,"after",i,a);wrapPropertyAccess(r.prototype,"after",e);e=v(r.prototype,"before",i,a);wrapPropertyAccess(r.prototype,"before",e);e=D(r.prototype,"insertAdjacentElement",l,p);wrapPropertyAccess(r.prototype,"insertAdjacentElement",e);e=D(r.prototype,"insertAdjacentHTML",l,p);wrapPropertyAccess(r.prototype,"insertAdjacentHTML",e);e=D(r.prototype,"insertAdjacentText",l,p);wrapPropertyAccess(r.prototype,"insertAdjacentText",e);e=x(r.prototype,"innerHTML",o,s);wrapPropertyAccess(r.prototype,"innerHTML",e);e=x(r.prototype,"outerHTML",i,a);wrapPropertyAccess(r.prototype,"outerHTML",e);e=C(t.prototype,"textContent",o,s);wrapPropertyAccess(t.prototype,"textContent",e);e=C(n.prototype,"innerText",o,s);wrapPropertyAccess(n.prototype,"innerText",e);e=C(t.prototype,"nodeValue",o,s);wrapPropertyAccess(t.prototype,"nodeValue",e);function o(e){return e&&ABP.DOM.frozen.has(e)}function i(e){try{return e&&(ABP.DOM.frozen.has(e)||ABP.DOM.frozen.has(DOM.getParentNode(e)))}catch(e){return false}}function l(e,t){try{return e&&(ABP.DOM.frozen.has(e)&&t||ABP.DOM.frozen.has(DOM.getParentNode(e))&&!t)}catch(e){return false}}function s(e){return ABP.DOM.frozen.get(e)}function a(e){try{if(ABP.DOM.frozen.has(e))return ABP.DOM.frozen.get(e);let t=DOM.getParentNode(e);return ABP.DOM.frozen.get(t)}catch(e){}}function p(e,t){try{if(ABP.DOM.frozen.has(e)&&t)return ABP.DOM.frozen.get(e);let r=DOM.getParentNode(e);return ABP.DOM.frozen.get(r)}catch(e){}}}function h(){p=u();y(p,false)}function y(e,t=true){for(let r of e){if(!ABP.DOM.frozen.has(r)){ABP.DOM.frozen.set(r,c);if(!t&&o){new MutationObserver((e=>{for(let t of e)y(utils.MutationRecord.getAddedNodes(t))})).observe(r,{childList:true,subtree:true})}if(o&&DOM.getNodeType(r)===utils.Node.ELEMENT_NODE)y(DOM.getChildNodes(r))}}}function m(e,...t){log(`[freeze][${e}] `,...t)}function w(e,t,r,n){let o=n.selector;let i=n.changeId;let l=typeof e=="string";let s=n.shouldAbort?"aborting":"watching";utils.console.groupCollapsed(`[freeze][${i}] ${s}: ${o}`);switch(r){case"appendChild":case"append":case"prepend":case"insertBefore":case"replaceChild":case"insertAdjacentElement":case"insertAdjacentHTML":case"insertAdjacentText":case"innerHTML":case"outerHTML":m(i,l?"text: ":"node: ",e);m(i,"added to node: ",t);break;case"replaceWith":case"after":case"before":m(i,l?"text: ":"node: ",e);m(i,"added to node: ",DOM.getParentNode(t));break;case"textContent":case"innerText":case"nodeValue":m(i,"content of node: ",t);m(i,"changed to: ",e);break;default:break}m(i,`using the function "${r}"`);utils.console.groupEnd();n.changeId++}function b(e,t){if(t){for(let r of t){if(ABP.DOM.matches(e,r))return true}}return false}function O(e,t){if(t){for(let r of t){if(r.test(e))return true}}return false}function E(e){throw new ReferenceError(e)}function P(e,t,r,n){let o="";let i=new DOMParser;let l=i.parseFromString(e,"text/html");let s=DOM.getChildNodes(DOM.getBody(l));let a=S(s,t,r,n);let p=utils.Array.map(a,(e=>{switch(DOM.getNodeType(e)){case utils.Node.ELEMENT_NODE:return DOM.getOuterHTML(e);case utils.Node.TEXT_NODE:return DOM.textContent(e);default:return""}}));o=utils.Array.join(p,"");return o}function S(e,t,r,n){let o=[];for(let i of e){if(A(i,t,r,n))utils.Array.push(o,i)}return o}function A(e,t,r,n){let o=n.shouldAbort;let i=n.regexExceptions;let l=n.exceptionSelectors;let s=n.rid;if(typeof e=="string"){let l=e;if(O(l,i))return true;if(debug)w(l,t,r,n);if(o)E(s);return debug}let a=e;switch(DOM.getNodeType(a)){case utils.Node.ELEMENT_NODE:if(b(a,l))return true;if(o){if(debug)w(a,t,r,n);E(s)}if(debug){hideElement(a);w(a,t,r,n);return true}return false;case utils.Node.TEXT_NODE:if(O(DOM.getTextContent(a),i))return true;if(debug)w(a,t,r,n);if(o)E(s);return false;default:return true}}function M(e,t,r,n){let o=Object.getOwnPropertyDescriptor(e,t)||{};let i=o.get&&utils.Function.call(o.get,e)||o.value;if(!i)return;return{get(){return function(...e){if(r(this)){let r=n(this);if(r){let n=e[0];if(!A(n,this,t,r))return n}}return utils.Function.apply(i,this,e)}}}}function v(e,t,r,n){let o=Object.getOwnPropertyDescriptor(e,t)||{};let i=o.get&&utils.Function.call(o.get,e)||o.value;if(!i)return;return{get(){return function(...e){if(!r(this))return utils.Function.apply(i,this,e);let o=n(this);if(!o)return utils.Function.apply(i,this,e);let l=S(e,this,t,o);if(l.length>0)return utils.Function.apply(i,this,l)}}}}function D(e,t,r,n){let o=Object.getOwnPropertyDescriptor(e,t)||{};let i=o.get&&utils.Function.call(o.get,e)||o.value;if(!i)return;return{get(){return function(...e){let[o,l]=e;let s=o==="afterbegin"||o==="beforeend";if(r(this,s)){let e=n(this,s);if(e){let r=s?this:DOM.getParentNode(this);let n;switch(t){case"insertAdjacentElement":if(!A(l,r,t,e))return l;break;case"insertAdjacentHTML":n=P(l,r,t,e);if(n){return utils.Function.call(i,this,o,n)}return;case"insertAdjacentText":if(!A(l,r,t,e))return;break;default:break}}}return utils.Function.apply(i,this,e)}}}}function x(e,t,r,n){let o=Object.getOwnPropertyDescriptor(e,t)||{};let{set:i}=o;if(!i)return;return{set(e){if(!r(this))return utils.Function.call(i,this,e);let o=n(this);if(!o)return utils.Function.call(i,this,e);let l=P(e,this,t,o);if(l)return utils.Function.call(i,this,l)}}}function C(e,t,r,n){let o=Object.getOwnPropertyDescriptor(e,t)||{};let{set:i}=o;if(!i)return;return{set(e){if(!r(this))return utils.Function.call(i,this,e);let o=n(this);if(!o)return utils.Function.call(i,this,e);if(A(e,this,t,o))return utils.Function.call(i,this,e)}}}}registerDependencies(freezeElement,initQueryAll,hideElement,randomId,toRegExp,log,wrapPropertyAccess);exports["freeze-element"]=makeInjector(freezeElement);function abortOnIframePropertyRead(...e){abortOnIframe(e,true,false)}registerDependencies(abortOnIframePropertyRead,abortOnIframe);exports["abort-on-iframe-property-read"]=makeInjector(abortOnIframePropertyRead);function abortOnIframePropertyWrite(...e){abortOnIframe(e,false,true)}registerDependencies(abortOnIframePropertyWrite,abortOnIframe);exports["abort-on-iframe-property-write"]=makeInjector(abortOnIframePropertyWrite);function abortOnIframe(e,t=false,r=false){let n=ABP.DOM.abortedIframes;let o=ABP.DOM.iframePropertiesToAbort;for(let o of Array.from(getWindowFrames())){if(n.has(o)){for(let i of e){if(t)n.get(o).read.add(i);if(r)n.get(o).write.add(i)}}}for(let n of e){if(t)o.read.add(n);if(r)o.write.add(n)}i();if(!n.has(document)){n.set(document,true);addHooksOnDomAdditions(i)}function i(){for(let e of Array.from(getWindowFrames())){if(!n.has(e)){n.set(e,{read:new Set(o.read),write:new Set(o.write)})}let t=n.get(e).read;if(t.size>0){let r=Array.from(t);t.clear();for(let t of r)abortOnRead("abort-on-iframe-property-read",e,t)}let r=n.get(e).write;if(r.size>0){let t=Array.from(r);r.clear();for(let r of t)abortOnWrite("abort-on-iframe-property-write",e,r)}}}}registerDependencies(abortOnIframe,randomId,addHooksOnDomAdditions,abortOnRead,abortOnWrite);function addHooksOnDomAdditions(e){let t;let r={prototype:utils.Node.prototype};let n={prototype:utils.Element.prototype};o(r.prototype,["appendChild","insertBefore","replaceChild"]);o(n.prototype,["append","prepend","replaceWith","after","before","insertAdjacentElement","insertAdjacentHTML"]);t=l(n.prototype,"innerHTML");wrapPropertyAccess(n.prototype,"innerHTML",t);t=l(n.prototype,"outerHTML");wrapPropertyAccess(n.prototype,"outerHTML",t);function o(e,t){for(let r of t){let t=i(e,r);wrapPropertyAccess(e,r,t)}}function i(t,r){let n=t[r];return{get(){return function(...t){let r;r=utils.Function.apply(n,this,t);e&&e();return r}}}}function l(t,r){let n=Object.getOwnPropertyDescriptor(t,r);let{set:o}=n||{};return{set(t){let r;r=utils.Function.call(o,this,t);e&&e();return r}}}}registerDependencies(addHooksOnDomAdditions,wrapPropertyAccess);function stripFetchQueryParameter(e,t=null){let r=fetch;if(typeof r!="function")return;let n=t?toRegExp(t):null;window.fetch=(...t)=>{let[o]=t;if(typeof o=="string"&&(!n||n.test(o))){let r=new URL(o);utils.URLSearchParams.delete(r.searchParams,e);t[0]=r.href}return utils.Function.apply(r,this,t)}}registerDependencies(stripFetchQueryParameter,toRegExp);exports["strip-fetch-query-parameter"]=makeInjector(stripFetchQueryParameter);class UndirectedGraph{constructor(e){let t=new Array(e);for(let r=0;r<e;r++)t[r]=new Array(e).fill(0);this.adjacencyMatrix=t}addEdge(e,t){if(e<0||t<0)throw new Error("Can't add an Edge to vertex at negative position ");let r=this.adjacencyMatrix.length;if(e>=r||t>=r)return false;this.adjacencyMatrix[e][t]=1;this.adjacencyMatrix[t][e]=1;return true}}let htmlTags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];const GRAPH_CUT_OFF=200;const THRESHOLD=.5;let htmlTagsMap=new Map(htmlTags.map(((e,t)=>[e.toUpperCase(),t+1])));function processElement(e){let{mark:t,end:r}=profile("ml:addEdges");let n=new UndirectedGraph(GRAPH_CUT_OFF);let o=1;let i=new Array(GRAPH_CUT_OFF).fill(0);let l=(e,t)=>{let r=e.children;for(let e of r){if(o>GRAPH_CUT_OFF)break;i[o]=htmlTagsMap.get(e.tagName)||0;n.addEdge(t,o);l(e,o++)}};i[0]=htmlTagsMap.get(e.tagName)||0;t();l(e,0);r();let s=n.adjacencyMatrix;return{adjMatrix:s,elementTags:i}}function predictAds(e,t){let r=(debug?log:()=>{}).bind(null,"ml-hide-if-graph-matches");let n=document.querySelectorAll(e);for(let e of n){if(t.has(e))continue;if(e.innerText=="")continue;t.add(e);let n=processElement(e);let{mark:o,end:i}=profile(`ml:inference:${randomId()}`);o();chrome.runtime.sendMessage({type:"ml.inference",inputs:[{data:[n.elementTags],preprocess:[{funcName:"cast",args:"int32"},{funcName:"pad",args:GRAPH_CUT_OFF},{funcName:"oneHot",args:htmlTags.length},{funcName:"cast",args:"float32"}]},{data:[n.adjMatrix],preprocess:[{funcName:"pad",args:GRAPH_CUT_OFF},{funcName:"unstack"},{funcName:"localPooling"},{funcName:"stack"}]}],model:"mlHideIfGraphMatches"},(t=>{i(true);r(t);let n=Object.values(t);if(!n.some((e=>e>0)))throw new Error("ML prediction results are corrupted");let o=n.filter(((e,t)=>t%2==0)).map((e=>e>THRESHOLD));if(!o[0]){r("Detected ad: "+e.innerText);hideElement(e)}}))}}function mlHideIfGraphMatches(e,t){let r=false;let n=new WeakSet;let o=t;let i=t=>{for(let i of t){if(i.target.tagName==o){if(!r){r=true;requestAnimationFrame((()=>{r=false;predictAds(e,n)}))}break}}};new MutationObserver(i).observe(document,{childList:true,characterData:true,subtree:true});predictAds(e,n)}exports["ml-hide-if-graph-matches"]=mlHideIfGraphMatches;function hashImage(e,t){function r(e){e.sort(((e,t)=>e-t));let{length:t}=e;if(t%2===0)return(e[t/2-1]+e[t/2])/2;return e[t/2|0]}function n(e,t){let n=t*256*3/2;let o=e.length/4;for(let t=0;t<4;t++){let i=t*o;let l=(t+1)*o;let s=r(e.slice(i,l));for(let t=i;t<l;t++){let r=e[t];e[t]=r>s||s-r<1&&s>n?1:0}}}function o(e){let t=[];let{length:r}=e;for(let n=0;n<r;n+=4){let r=e.slice(n,n+4);t.push(parseInt(r.join(""),2).toString(16))}return t.join("")}function i(e,t){let{width:r,height:i,data:l}=e;let s=r/t|0;let a=i/t|0;let p=new Array(t*t);for(let e=0;e<t;e++){for(let n=0;n<t;n++){let o=0;for(let t=0;t<a;t++){let i=((e*a+t)*r+n*s)*4;for(let e=0;e<s;e++){let e=l[i+3];if(e===0)o+=765;else o+=l[i]+l[i+1]+l[i+2];i+=4}}p[e*t+n]=o}}n(p,s*a);return o(p)}function l(e,t){let r;let l;let s;let a;let p;let u;let c;let d;let f;let g;let h;let y;let m;let w;let b;let O;let E;let P;let{width:S,height:A,data:M}=e;let v=S%t===0;let D=A%t===0;if(v&&D)return i(e,t);let x=new Array(t*t).fill(0);s=S/t;a=A/t;b=1;w=0;m=a;p=1;u=0;let C=0;for(l=0;l<A;l++){if(D){f=g=l/a|0}else{if(l+1>=m){let e=(l+1)%a;b=e|0;w=e-b;if(a>1)m=Math.ceil((l+1)/a)*a;p=1-w;u=w}if(b>0||l+1===A){f=g=l/a|0}else{let e=l/a;f=e|0;g=f===e?f:f+1}}P=1;E=0;O=s;c=1;d=0;for(r=0;r<S;r++){let e=765;let n=M[C+3];if(n!==0)e=M[C]+M[C+1]+M[C+2];if(v){h=y=r/s|0}else{if(r+1>=O){let e=(r+1)%s;P=e|0;E=e-P;if(s>1)O=Math.ceil((r+1)/s)*s;c=1-E;d=E}if(P>0||r+1===S){h=y=r/s|0}else{let e=r/s;h=e|0;y=h===e?h:h+1}}x[f*t+h]+=e*p*c;x[f*t+y]+=e*p*d;x[g*t+h]+=e*u*c;x[g*t+y]+=e*u*d;C+=4;P++}b++}n(x,s*a);return o(x)}return l(e,t)}function hammingDistance(e,t){let r=[0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4];let n=0;let o;if(e.length!==t.length)throw new Error("Can't compare hashes with different length");for(o=0;o<e.length;o++){let i=parseInt(e[o],16);let l=parseInt(t[o],16);n+=r[i^l]}return n}function hideIfContainsImageHash(e,t,r,n,o){if(t==null||t==="")t="img";if(r==null)r=0;if(n==null)n=8;if(isNaN(r)||isNaN(n))return;n|=0;if(n<1||n>64)return;o=(o||"").split("x");let i=new Set;let l=l=>{for(let s of l){i.add(s.src);let l=new Image;l.crossOrigin="anonymous";l.onload=()=>{let i=document.createElement("canvas");let a=i.getContext("2d");let{width:p,height:u}=l;let c=parseInt(o[0],10)||0;let d=parseInt(o[1],10)||0;let f=parseInt(o[2],10)||p;let g=parseInt(o[3],10)||u;if(f==0||g==0)return;if(c<0)c=p+c;if(d<0)d=u+d;if(c<0)c=0;if(d<0)d=0;if(f>p)f=p;if(g>u)g=u;i.width=f;i.height=g;a.drawImage(l,c,d,f,g,0,0,f,g);let h=a.getImageData(0,0,f,g);let y=hashImage(h,n);for(let n of e.split(",")){if(y.length==n.length){if(hammingDistance(y,n)<=r){let e=s.closest(t);if(e){hideElement(e);return}}}}};l.src=s.src}};l(document.images);new MutationObserver((()=>{let e=new Set;for(let t of document.images){if(!i.has(t.src))e.add(t)}if(e.size)l(e)})).observe(document,{childList:true,subtree:true,attributes:true})}exports["hide-if-contains-image-hash"]=hideIfContainsImageHash;function hideIfLabelledBy(e,t,r=null){let n=r==null;let o=toRegExp(e);let i=new WeakSet;let l=()=>{for(let e of document.querySelectorAll(t)){let t=n?e:e.closest(r);if(!t||!isVisible(e,getComputedStyle(e),t))continue;let l=e.getAttribute("aria-labelledby");let s=()=>{if(i.has(t))return;if(o.test(e.getAttribute("aria-label")||"")){i.add(t);hideElement(t)}};if(l){for(let e of l.split(/\s+/)){let r=document.getElementById(e);if(r){if(!i.has(r)&&o.test(r.innerText)){i.add(r);hideElement(t)}}else{s()}}}else{s()}}};let s={characterData:true,childList:true,subtree:true};new MutationObserver(l).observe(document,s);l()}exports["hide-if-labelled-by"]=hideIfLabelledBy;function initQueryAndApply(e){if(utils.String.startsWith(e,"xpath(")&&utils.String.endsWith(e,")")){let t=utils.String.slice(e,6,-1);let r=new XPathEvaluator;let n=r.createExpression(t,null);let o=XPathResult.ORDERED_NODE_SNAPSHOT_TYPE;return e=>{if(!e)return;let t=utils.XPathExpression.evaluate(n,document,o,null);let r=utils.XPathResult.getSnapshotLength(t);for(let n=0;n<r;n++)e(utils.XPathResult.snapshotItem(t,n))}}return t=>DOM.document.$$(e).forEach(t)}function initQueryAll(e){if(utils.String.startsWith(e,"xpath(")&&utils.String.endsWith(e,")")){let t=initQueryAndApply(e);return()=>{let e=[];t((t=>utils.Array.push(e,t)));return e}}return()=>utils.Array.from(DOM.document.$$(e))}registerDependencies(initQueryAll,initQueryAndApply);function hideIfMatchesXPath(e){let{mark:t,end:r}=profile("hide-if-matches-xpath");let n=initQueryAndApply(`xpath(${e})`);let o=()=>{t();n((e=>{if(e.nodeType===Node.ELEMENT_NODE)hideElement(e);else e.textContent=""}));r()};let i={characterData:true,childList:true,subtree:true};new MutationObserver(o).observe(document,i);o()}exports["hide-if-matches-xpath"]=hideIfMatchesXPath;let debug=false;function setDebug(){debug=true}exports["debug"]=setDebug;let noopProfile={mark(){},end(){},toString(){return"{mark(){},end(){}}"}};let inactiveProfile=true;function setProfile(){inactiveProfile=false}exports["profile"]=setProfile;function profile(e,t=10){if(inactiveProfile)return noopProfile;function r(){let e=[];for(let{name:t,duration:r}of performance.getEntriesByType("measure"))e.push({name:t,duration:r});if(e.length){performance.clearMeasures();chrome.runtime.sendMessage({type:"profiler.sample",category:"snippets",samples:e})}}if(!profile[e]){profile[e]=setInterval(r,Math.round(6e4/Math.min(60,t)))}return{mark(){performance.mark(e)},end(t=false){performance.measure(e,e);performance.clearMarks(e);if(t){ABP.window.clearInterval(profile[e]);delete profile[e];r()}}}}function preventListener(e,t,r){if(!e)throw new Error("[prevent-listener snippet]: No event type.");let n=toRegExp(e);let o=t?toRegExp(t):null;let i=utils.Function.bind(debug?log:()=>{},null,"[prevent]");let l=utils.EventTarget.addEventListener;let s={value(...e){let[t,s]=e;if(!a()||o&&!p()||r&&!(this instanceof Element)||r&&!u(this))return l(this,...e);if(debug){utils.console.groupCollapsed("DEBUG [prevent] was successful");i(`type: ${t} matching ${n}`);i("handler:",s);if(o)i(`matching ${o}`);if(r)i("on element: ",this,` matching ${r}`);i("was prevented from being added");utils.console.groupEnd()}function a(){return n.test(t)}function p(){return o.test(utils.Function.toString(typeof s==="function"?s:s.handleEvent))}function u(e){return DOM.matches(e,r)}}};Object.defineProperty(utils.EventTarget.prototype,"addEventListener",s);i("Wrapped addEventListener")}registerDependencies(preventListener,toRegExp,log);exports["prevent-listener"]=makeInjector(preventListener);function simulateEvent(e,t,r="0"){if(!e)throw new Error("[simulate-event snippet]: No event type provided.");if(!t)throw new Error("[simulate-event snippet]: No selector provided.");let n=initQueryAndApply(t);let o=parseInt(r,10);let i=new WeakSet;let l=new MutationObserver(s);l.observe(document,{childList:true,subtree:true});s();function s(){n((t=>{if(t.dispatchEvent&&!i.has(t)){i.add(t);setTimeout((()=>{t.dispatchEvent(new MouseEvent(e,{bubbles:true,cancelable:true}))}),o)}}))}}exports["simulate-event-poc"]=simulateEvent;function cookieRemover(e){if(!e)throw new Error("[cookie-remover snippet]: No cookie to remove.");let t=utils.Function.bind(debug?log:()=>{},null,"cookie-remover");let r=toRegExp(e);if(!/^http|^about/.test(location.protocol)){t("Snippet only works for http or https and about.");return}t("Parsing cookies for matches");utils.Array.forEach(n(),(e=>{let r=utils.String.split(e,"=")[0];let n="expires=Thu, 01 Jan 1970 00:00:00 GMT";let o="path=/";let i="domain="+utils.String.slice(location.hostname,utils.String.indexOf(location.hostname,".")+1);DOM.setCookie(`${utils.String.trim(r)}=;${n};${o}`);DOM.setCookie(`${utils.String.trim(r)}=;${n};${o};${i}`);t(`Set expiration date on ${r}`)}));function n(){return utils.Array.filter(utils.String.split(DOM.getCookie(document),";"),(e=>r.test(utils.String.split(e,"=")[0])))}}registerDependencies(cookieRemover,toRegExp,log);exports["cookie-remover"]=makeInjector(cookieRemover);